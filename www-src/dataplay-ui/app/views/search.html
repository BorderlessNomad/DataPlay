<div class="row total-results" ng-init="init()">
	<span ng-class="{true: '', false: 'notvisible'}[totalResults > 0]">{{totalResults}} results found</span>
</div>

<div class="row">
	<div class="col-sm-9 col-xs-12">
		<form novalidate>
			<div class="form-group">
				<input class="form-control" type="search" placeholder="Enter your query here (e.g. gold)" ng-model="query" ng-change="init()">
			</div>
		</form>

		<div class="list-group search-results" ng-show="results.length > 0">
			<div class="row" ng-repeat="row in rowedResults | limitTo: rowLimit">
				<div class="list-group-item col-sm-4" ng-repeat="result in row">
					<div class="media-heading">
						<h5><a href="overview/{{result.GUID}}">{{result.Title}}</a></h5>
					</div>
					<div class="media-body">
						<div ng-if="row.graph.length > 0" class="dc-chart chartSwitch line" dc-chart="lineChart" dc-width="200" dc-height="150" dc-margins="{{margin}}" dc-mouse-zoomable="false" dc-brush-on="false" dc-elastic-y="true" dc-transition-duration="500" dc-colors="d3.scale.category20()" dc-render-data-points="true" dc-render-area="true" dc-post-setup-chart="lineChartPostSetup(row)" ></div>
					</div>
				</div>
			</div>

			<div class="row show-more" ng-click="showMore()">
				<button class="col-md-6 col-md-offset-3 btn btn-default text-center">Show More</button>
			</div>
		</div>

		<div class="jumbotron" ng-show="results.length <= 0 && query.length > 0">
			<p class="text-center">Sorry we are unable to find any search results for given request.</p>
		</div>
	</div>

	<div class="col-sm-3 col-xs-0">
		<div class="sidebar">
			<div class="title">Overview</div>

			<div class="content">
				<div class="media" ng-repeat="item in overview">
					<div class="row">
						<span class="text-muted"><small>{{item.date}}</small></span>
						<span class="pull-right collapsebtn" ng-if="item.show !== false" ng-click="collapse(item)"><small><i class="glyphicon glyphicon-minus-sign"></i></small></span>
						<span class="pull-right collapsebtn" ng-if="item.show === false" ng-click="uncollapse(item)"><small><i class="glyphicon glyphicon-plus-sign"></i></small></span>
					</div>

					<div class="row">
						<div class="media-body">
							<h5 class="media-heading"><a href="{{item.url}}" target="_blank">{{item.title}}</a></h5>
							<a ng-if="item.show !== false" href="{{item.url}}" target="_blank"><img class="thumbnail" ng-src="{{item.thumbnail}}" /></a>
						</div>
					</div>
				</div>
			</div>

			<div class="nothing" ng-hide="overview.length > 0"><p class="text-center text-muted">Nothing to show</p></div>

		</div>
	</div>
</div>

