d3=function(){function n(n){return null!=n&&!isNaN(n)}function t(n){return n.length}function e(n){for(var t=1;nt%1;)t=10;return t}function r(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{valuet[e],enumerable!1})}catch(r){n.prototype=t}}function u(){}function i(){}function o(n,t,e){return function(){var r=e.apply(t,arguments);return r===tnr}}function a(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var e=0,r=la.length;re;++e){var u=la[e]+t;if(u in n)return u}}function c(){}function s(){}function l(n){function t(){for(var t,r=e,u=-1,i=r.length;++ui;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new u;return t.on=function(t,u){var i,o=r.get(t);return arguments.length2o&&o.on(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{onu})),n)},t}function f(){$o.event.preventDefault()}function h(){for(var n,t=$o.event;n=t.sourceEvent;)t=n;return t}function g(n){for(var t=new s,e=0,r=arguments.length;++er;)t[arguments[e]]=l(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=$o.event;u.target=n,$o.event=u,t[u.type].apply(e,r)}finally{$o.event=i}}},t}function p(n){return ha(n,ma),n}function v(n){returnfunction==typeof nnfunction(){return ga(n,this)}}function d(n){returnfunction==typeof nnfunction(){return pa(n,this)}}function m(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==ethis.removeAttribute(n)this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==ethis.removeAttributeNS(n.space,n.local)this.setAttributeNS(n.space,n.local,e)}return n=$o.ns.qualify(n),null==tn.localrefunction==typeof tn.localaon.localiu}function y(n){return n.trim().replace(s+g, )}function x(n){return new RegExp((^s+)+$o.requote(n)+(s+$),g)}function M(n,t){function e(){for(var e=-1;++eu;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++eu;)n[e](this,r)}n=n.trim().split(s+).map(_);var u=n.length;returnfunction==typeof tre}function _(n){var t=x(n);return function(e,r){if(u=e.classList)return ru.add(n)u.remove(n);var u=e.getAttribute(class);r(t.lastIndex=0,t.test(u)e.setAttribute(class,y(u+ +n)))e.setAttribute(class,y(u.replace(t, )))}}function b(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==rthis.style.removeProperty(n)this.style.setProperty(n,r,e)}return null==trfunction==typeof tiu}function w(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==edelete this[n]this[n]=e}return null==tefunction==typeof tur}function S(n){returnfunction==typeof nn(n=$o.ns.qualify(n)).localfunction(){return this.ownerDocument.createElementNS(n.space,n.local)}function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function k(n){return{__data__n}}function E(n){return function(){return da(this,n)}}function A(n){return arguments.length(n=$o.ascending),function(t,e){return t&&en(t.__data__,e.__data__)!t-!e}}function C(n,t){for(var e=0,r=n.length;re;e++)for(var u,i=n[e],o=0,a=i.length;ao;o++)(u=i[o])&&t(u,o,e);return n}function N(n){return ha(n,xa),n}function L(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u=t&&(t=u+1);!(o=a[t])&&++tc;);return o}}function T(){var n=this.__transition__;n&&++n.active}function q(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=s(t,Wo(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp(^__on([^.]+)+$o.requote(n)+$);for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o=__on+n,a=n.indexOf(.),s=z;a0&&(n=n.substring(0,a));var l=_a.get(n);return l&&(n=l,s=R),aturtci}function z(n,t){return function(e){var r=$o.event;$o.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{$o.event=r}}}function R(n,t){var e=z(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t8&r.compareDocumentPosition(t))e.call(t,n)}}function D(){var n=.dragsuppress-+ ++wa,t=click+n,e=$o.select(Ko).on(touchmove+n,f).on(dragstart+n,f).on(selectstart+n,f);if(ba){var r=Go.style,u=r[ba];r[ba]=none}return function(i){function o(){e.on(t,null)}e.on(n,null),ba&&(r[ba]=u),i&&(e.on(t,function(){f(),o()},!0),setTimeout(o,0))}}function P(n,t){t.changedTouches&&(t=t.changedTouches[0]);var e=n.ownerSVGElementn;if(e.createSVGPoint){var r=e.createSVGPoint();if(0Sa&&(Ko.scrollXKo.scrollY)){e=$o.select(body).append(svg).style({positionabsolute,top0,left0,margin0,padding0,bordernone},important);var u=e[0][0].getScreenCTM();Sa=!(u.fu.e),e.remove()}return Sa(r.x=t.pageX,r.y=t.pageY)(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}function U(n){return n010n-10}function j(n){return n10-1nkaMath.acos(n)}function H(n){return n1Aa-1n-AaMath.asin(n)}function F(n){return((n=Math.exp(n))-1n)2}function O(n){return((n=Math.exp(n))+1n)2}function Y(n){return((n=Math.exp(2n))-1)(n+1)}function I(n){return(n=Math.sin(n2))n}function Z(){}function V(n,t,e){return new X(n,t,e)}function X(n,t,e){this.h=n,this.s=t,this.l=e}function $(n,t,e){function r(n){return n360n-=3600n&&(n+=360),60ni+(o-i)n60180no240ni+(o-i)(240-n)60i}function u(n){return Math.round(255r(n))}var i,o;return n=isNaN(n)0(n%=360)0n+360n,t=isNaN(t)00t0t11t,e=0e0e11e,o=.5=ee(1+t)e+t-et,i=2e-o,ot(u(n+120),u(n),u(n-120))}function B(n,t,e){return new W(n,t,e)}function W(n,t,e){this.h=n,this.c=t,this.l=e}function J(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),G(e,Math.cos(n=La)t,Math.sin(n)t)}function G(n,t,e){return new K(n,t,e)}function K(n,t,e){this.l=n,this.a=t,this.b=e}function Q(n,t,e){var r=(n+16)116,u=r+t500,i=r-e200;return u=tt(u)Oa,r=tt(r)Ya,i=tt(i)Ia,ot(rt(3.2404542u-1.5371385r-.4985314i),rt(-.969266u+1.8760108r+.041556i),rt(.0556434u-.2040259r+1.0572252i))}function nt(n,t,e){return n0B(Math.atan2(e,t)Ta,Math.sqrt(tt+ee),n)B(00,00,n)}function tt(n){return n.206893034nnn(n-429)7.787037}function et(n){return n.008856Math.pow(n,13)7.787037n+429}function rt(n){return Math.round(255(.00304=n12.92n1.055Math.pow(n,12.4)-.055))}function ut(n){return ot(n16,255&n8,255&n)}function it(n){return ut(n)+}function ot(n,t,e){return new at(n,t,e)}function at(n,t,e){this.r=n,this.g=t,this.b=e}function ct(n){return 16n0+Math.max(0,n).toString(16)Math.min(255,n).toString(16)}function st(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=([a-z]+)((.))i.exec(n))switch(u=r[2].split(,),r[1]){casehslreturn e(parseFloat(u[0]),parseFloat(u[1])100,parseFloat(u[2])100);casergbreturn t(gt(u[0]),gt(u[1]),gt(u[2]))}return(i=Xa.get(n))t(i.r,i.g,i.b)(null!=n&&#===n.charAt(0)&&(4===n.length(o=n.charAt(1),o+=o,a=n.charAt(2),a+=a,c=n.charAt(3),c+=c)7===n.length&&(o=n.substring(1,3),a=n.substring(3,5),c=n.substring(5,7)),o=parseInt(o,16),a=parseInt(a,16),c=parseInt(c,16)),t(o,a,c))}function lt(n,t,e){var r,u,i=Math.min(n=255,t=255,e=255),o=Math.max(n,t,e),a=o-i,c=(o+i)2;return a(u=.5ca(o+i)a(2-o-i),r=n==o(t-e)a+(et60)t==o(e-n)a+2(n-t)a+4,r=60)(r=00,u=c0&&1c0r),V(r,u,c)}function ft(n,t,e){n=ht(n),t=ht(t),e=ht(e);var r=et((.4124564n+.3575761t+.1804375e)Oa),u=et((.2126729n+.7151522t+.072175e)Ya),i=et((.0193339n+.119192t+.9503041e)Ia);return G(116u-16,500(r-u),200(u-i))}function ht(n){return(n=255)=.04045n12.92Math.pow((n+.055)1.055,2.4)}function gt(n){var t=parseFloat(n);return%===n.charAt(n.length-1)Math.round(2.55t)t}function pt(n){returnfunction==typeof nnfunction(){return n}}function vt(n){return n}function dt(n){return function(t,e,r){return 2===arguments.length&&function==typeof e&&(r=e,e=null),mt(t,e,n,r)}}function mt(n,t,e,r){function u(){var n,t=c.status;if(!t&&c.responseTextt=200&&300t304===t){try{n=e.call(i,c)}catch(r){return o.error.call(i,r),void 0}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=$o.dispatch(beforesend,progress,load,error),a={},c=new XMLHttpRequest,s=null;return!Ko.XDomainRequestwithCredentialsin c!^(http(s)).test(n)(c=new XDomainRequest),onloadin cc.onload=c.onerror=uc.onreadystatechange=function(){c.readyState3&&u()},c.onprogress=function(n){var t=$o.event;$o.event=n;try{o.progress.call(i,c)}finally{$o.event=t}},i.header=function(n,t){return n=(n+).toLowerCase(),arguments.length2a[n](null==tdelete a[n]a[n]=t+,i)},i.mimeType=function(n){return arguments.length(t=null==nnulln+,i)t},i.responseType=function(n){return arguments.length(s=n,i)s},i.response=function(n){return e=n,i},[get,post].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(Wo(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&function==typeof r&&(u=r,r=null),c.open(e,n,!0),null==tacceptin a(a.accept=t+,),c.setRequestHeader)for(var l in a)c.setRequestHeader(l,a[l]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=s&&(c.responseType=s),null!=u&&i.on(error,u).on(load,function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==rnullr),i},i.abort=function(){return c.abort(),i},$o.rebind(i,o,on),null==rii.get(yt(r))}function yt(n){return 1===n.lengthfunction(t,e){n(null==tenull)}n}function xt(){var n=Mt(),t=_t()-n;t24(isFinite(t)&&(clearTimeout(Ja),Ja=setTimeout(xt,t)),Wa=0)(Wa=1,Ka(xt))}function Mt(){var n=Date.now();for(Ga=$a;Ga;)n=Ga.t&&(Ga.f=Ga.c(n-Ga.t)),Ga=Ga.n;return n}function _t(){for(var n,t=$a,e=10;t;)t.ft=nn.n=t.n$a=t.n(t.te&&(e=t.t),t=(n=t).n);return Ba=n,e}function bt(n,t){var e=Math.pow(10,3aa(8-t));return{scalet8function(n){return ne}function(n){return ne},symboln}}function wt(n,t){return t-(nMath.ceil(Math.log(n)Math.LN10)1)}function St(n){return n+}function kt(){}function Et(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function At(n,t){n&&lc.hasOwnProperty(n.type)&&lc[n.type](n,t)}function Ct(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++ui;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function Nt(n,t){var e=-1,r=n.length;for(t.polygonStart();++er;)Ct(n[e],t,1);t.polygonEnd()}function Lt(){function n(n,t){n=La,t=tLa2+ka4;var e=n-r,o=Math.cos(t),a=Math.sin(t),c=ia,s=uo+cMath.cos(e),l=cMath.sin(e);hc.add(Math.atan2(l,s)),r=n,u=o,i=a}var t,e,r,u,i;gc.point=function(o,a){gc.point=n,r=(t=o)La,u=Math.cos(a=(e=a)La2+ka4),i=Math.sin(a)},gc.lineEnd=function(){n(t,e)}}function Tt(n){var t=n[0],e=n[1],r=Math.cos(e);return[rMath.cos(t),rMath.sin(t),Math.sin(e)]}function qt(n,t){return n[0]t[0]+n[1]t[1]+n[2]t[2]}function zt(n,t){return[n[1]t[2]-n[2]t[1],n[2]t[0]-n[0]t[2],n[0]t[1]-n[1]t[0]]}function Rt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Dt(n,t){return[n[0]t,n[1]t,n[2]t]}function Pt(n){var t=Math.sqrt(n[0]n[0]+n[1]n[1]+n[2]n[2]);n[0]=t,n[1]=t,n[2]=t}function Ut(n){return[Math.atan2(n[1],n[0]),H(n[2])]}function jt(n,t){return aa(n[0]-t[0])Ca&&aa(n[1]-t[1])Ca}function Ht(n,t){n=La;var e=Math.cos(t=La);Ft(eMath.cos(n),eMath.sin(n),Math.sin(t))}function Ft(n,t,e){++pc,dc+=(n-dc)pc,mc+=(t-mc)pc,yc+=(e-yc)pc}function Ot(){function n(n,u){n=La;var i=Math.cos(u=La),o=iMath.cos(n),a=iMath.sin(n),c=Math.sin(u),s=Math.atan2(Math.sqrt((s=ec-ra)s+(s=ro-tc)s+(s=ta-eo)s),to+ea+rc);vc+=s,xc+=s(t+(t=o)),Mc+=s(e+(e=a)),_c+=s(r+(r=c)),Ft(t,e,r)}var t,e,r;kc.point=function(u,i){u=La;var o=Math.cos(i=La);t=oMath.cos(u),e=oMath.sin(u),r=Math.sin(i),kc.point=n,Ft(t,e,r)}}function Yt(){kc.point=Ht}function It(){function n(n,t){n=La;var e=Math.cos(t=La),o=eMath.cos(n),a=eMath.sin(n),c=Math.sin(t),s=uc-ia,l=io-rc,f=ra-uo,h=Math.sqrt(ss+ll+ff),g=ro+ua+ic,p=h&&-j(g)h,v=Math.atan2(h,g);bc+=ps,wc+=pl,Sc+=pf,vc+=v,xc+=v(r+(r=o)),Mc+=v(u+(u=a)),_c+=v(i+(i=c)),Ft(r,u,i)}var t,e,r,u,i;kc.point=function(o,a){t=o,e=a,kc.point=n,o=La;var c=Math.cos(a=La);r=cMath.cos(o),u=cMath.sin(o),i=Math.sin(a),Ft(r,u,i)},kc.lineEnd=function(){n(t,e),kc.lineEnd=Yt,kc.point=Ht}}function Zt(){return!0}function Vt(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)=0)){var t,e=n[0],r=n[t];if(jt(e,r)){u.lineStart();for(var a=0;ta;++a)u.point((e=n[a])[0],e[1]);return u.lineEnd(),void 0}var c=new $t(e,n,null,!0),s=new $t(e,null,c,!1);c.o=s,i.push(c),o.push(s),c=new $t(r,n,null,!1),s=new $t(r,null,c,!0),c.o=s,i.push(c),o.push(s)}}),o.sort(t),Xt(i),Xt(o),i.length){for(var a=0,c=e,s=o.length;sa;++a)o[a].e=c=!c;for(var l,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;l=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,s=l.length;sa;++a)u.point((f=l[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){l=g.p.z;for(var a=l.length-1;a=0;--a)u.point((f=l[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,l=g.z,p=!p}while(!g.v);u.lineEnd()}}}function Xt(n){if(t=n.length){for(var t,e,r=0,u=n[0];++rt;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function $t(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Bt(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function s(){y.point=o,d.lineEnd()}function l(n,t){v.push([n,t]);var e=u(n,t);M.point(e[0],e[1])}function f(){M.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),M.lineEnd();var n,t=M.clean(),e=x.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r){if(1&t){n=e[0];var u,r=n.length-1,o=-1;for(i.lineStart();++or;)i.point((u=n[o])[0],u[1]);return i.lineEnd(),void 0}r1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Wt))}}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={pointo,lineStartc,lineEnds,polygonStartfunction(){y.point=l,y.lineStart=f,y.lineEnd=h,g=[],p=[],i.polygonStart()},polygonEndfunction(){y.point=o,y.lineStart=c,y.lineEnd=s,g=$o.merge(g);var n=Kt(m,p);g.lengthVt(g,Gt,n,e,i)n&&(i.lineStart(),e(null,null,1,i),i.lineEnd()),i.polygonEnd(),g=p=null},spherefunction(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=Jt(),M=t(x);return y}}function Wt(n){return n.length1}function Jt(){var n,t=[];return{lineStartfunction(){t.push(n=[])},pointfunction(t,e){n.push([t,e])},lineEndc,bufferfunction(){var e=t;return t=[],n=null,e},rejoinfunction(){t.length1&&t.push(t.pop().concat(t.shift()))}}}function Gt(n,t){return((n=n.x)[0]0n[1]-Aa-CaAa-n[1])-((t=t.x)[0]0t[1]-Aa-CaAa-t[1])}function Kt(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;hc.reset();for(var a=0,c=t.length;ca;++a){var s=t[a],l=s.length;if(l)for(var f=s[0],h=f[0],g=f[1]2+ka4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===l&&(d=0),n=s[d];var m=n[0],y=n[1]2+ka4,x=Math.sin(y),M=Math.cos(y),_=m-h,b=aa(_)ka,w=px;if(hc.add(Math.atan2(wMath.sin(_),vM+wMath.cos(_))),i+=b_+(_=0Ea-Ea)_,b^h=e^m=e){var S=zt(Tt(f),Tt(n));Pt(S);var k=zt(u,S);Pt(k);var E=(b^_=0-11)H(k[2]);(rEr===E&&(S[0]S[1]))&&(o+=b^_=01-1)}if(!d++)break;h=m,p=x,v=M,f=n}}return(-CaiCai&&0hc)^1&o}function Qt(n){var t,e=00,r=00,u=00;return{lineStartfunction(){n.lineStart(),t=1},pointfunction(i,o){var a=i0ka-ka,c=aa(i-e);aa(c-ka)Ca(n.point(e,r=(r+o)20Aa-Aa),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0)u!==a&&c=ka&&(aa(e-u)Ca&&(e-=uCa),aa(i-a)Ca&&(i-=aCa),r=ne(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEndfunction(){n.lineEnd(),e=r=00},cleanfunction(){return 2-t}}}function ne(n,t,e,r){var u,i,o=Math.sin(n-e);return aa(o)CaMath.atan((Math.sin(t)(i=Math.cos(r))Math.sin(e)-Math.sin(r)(u=Math.cos(t))Math.sin(n))(uio))(t+r)2}function te(n,t,e,r){var u;if(null==n)u=eAa,r.point(-ka,u),r.point(0,u),r.point(ka,u),r.point(ka,0),r.point(ka,-u),r.point(0,-u),r.point(-ka,-u),r.point(-ka,0),r.point(-ka,u);else if(aa(n[0]-t[0])Ca){var i=n[0]t[0]ka-ka;u=ei2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function ee(n){function t(n,t){return Math.cos(n)Math.cos(t)i}function e(n){var e,i,c,s,l;return{lineStartfunction(){s=c=!1,l=1},pointfunction(f,h){var g,p=[f,h],v=t(f,h),d=ov0u(f,h)vu(f+(0fka-ka),h)0;if(!e&&(s=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(jt(e,g)jt(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)l=0,v(n.lineStart(),g=r(p,e),n.point(g[0],g[1]))(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i!(m=r(p,e,!0))(l=0,o(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd())(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!ve&&jt(e,p)n.point(p[0],p[1]),e=p,c=v,i=d},lineEndfunction(){c&&n.lineEnd(),e=null},cleanfunction(){return l(s&&c)1}}}function r(n,t,e){var r=Tt(n),u=Tt(t),o=[1,0,0],a=zt(r,u),c=qt(a,a),s=a[0],l=c-ss;if(!l)return!e&&n;var f=icl,h=-isl,g=zt(o,a),p=Dt(o,f),v=Dt(a,h);Rt(p,v);var d=g,m=qt(p,d),y=qt(d,d),x=mm-y(qt(p,p)-1);if(!(0x)){var M=Math.sqrt(x),_=Dt(d,(-m-M)y);if(Rt(_,p),_=Ut(_),!e)return _;var b,w=n[0],S=t[0],k=n[1],E=t[1];wS&&(b=w,w=S,S=b);var A=S-w,C=aa(A-ka)Ca,N=CCaA;if(!C&&kE&&(b=k,k=E,E=b),NCk+E0^_[1](aa(_[0]-w)CakE)k=_[1]&&_[1]=EAka^(w=_[0]&&_[0]=S)){var L=Dt(d,(-m+M)y);return Rt(L,p),[_,Ut(L)]}}}function u(t,e){var r=onka-n,u=0;return-rtu=1tr&&(u=2),-reu=4er&&(u=8),u}var i=Math.cos(n),o=i0,a=aa(i)Ca,c=Le(n,6La);return Bt(t,e,c,o[0,-n][-ka,n-ka])}function re(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,s=o.y,l=a.x,f=a.y,h=0,g=1,p=l-c,v=f-s;if(i=n-c,p!(i0)){if(i=p,0p){if(hi)return;gi&&(g=i)}else if(p0){if(ig)return;ih&&(h=i)}if(i=e-c,p!(0i)){if(i=p,0p){if(ig)return;ih&&(h=i)}else if(p0){if(hi)return;gi&&(g=i)}if(i=t-s,v!(i0)){if(i=v,0v){if(hi)return;gi&&(g=i)}else if(v0){if(ig)return;ih&&(h=i)}if(i=r-s,v!(0i)){if(i=v,0v){if(ig)return;ih&&(h=i)}else if(v0){if(hi)return;gi&&(g=i)}return h0&&(u.a={xc+hp,ys+hv}),1g&&(u.b={xc+gp,ys+gv}),u}}}}}}function ue(n,t,e,r){function u(r,u){return aa(r[0]-n)Cau003aa(r[0]-e)Cau021aa(r[1]-t)Cau010u032}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==re-r0===et[1]-n[1]1===en[0]-t[0]2===en[1]-t[1]t[0]-n[0]}return function(a){function c(n){for(var t=0,e=m.length,r=n[1],u=0;eu;++u)for(var i,o=1,a=m[u],c=a.length,l=a[0];co;++o)i=a[o],l[1]=ri[1]r&&s(l,i,n)0&&++ti[1]=r&&s(l,i,n)0&&--t,l=i;return 0!==t}function s(n,t,e){return(t[0]-n[0])(e[1]-n[1])-(e[0]-n[0])(t[1]-n[1])}function l(i,a,c,s){var l=0,f=0;if(null==i(l=u(i,c))!==(f=u(a,c))o(i,a)0^c0){do s.point(0===l3===lne,l1rt);while((l=(l+c+4)%4)!==f)}else s.point(a[0],a[1])}function f(u,i){return u=n&&e=u&&i=t&&r=i}function h(n,t){f(n,t)&&a.point(n,t)}function g(){L.point=v,m&&m.push(y=[]),k=!0,S=!1,b=w=00}function p(){d&&(v(x,M),_&&S&&C.rejoin(),d.push(C.buffer())),L.point=h,S&&a.lineEnd()}function v(n,t){n=Math.max(-Ac,Math.min(Ac,n)),t=Math.max(-Ac,Math.min(Ac,t));var e=f(n,t);if(m&&y.push([n,t]),k)x=n,M=t,_=e,k=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&S)a.point(n,t);else{var r={a{xb,yw},b{xn,yt}};N(r)(S(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),ea.lineEnd(),E=!1)e&&(a.lineStart(),a.point(n,t),E=!1)}b=n,w=t,S=e}var d,m,y,x,M,_,b,w,S,k,E,A=a,C=Jt(),N=re(n,t,e,r),L={pointh,lineStartg,lineEndp,polygonStartfunction(){a=C,d=[],m=[],E=!0},polygonEndfunction(){a=A,d=$o.merge(d);var t=c([n,r]),e=E&&t,u=d.length;(eu)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Vt(d,i,t,l,a),a.polygonEnd()),d=m=y=null}};return L}}function ie(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function oe(n){var t=0,e=ka3,r=be(n),u=r(t,e);return u.parallels=function(n){return arguments.lengthr(t=n[0]ka180,e=n[1]ka180)[180(tka),180(eka)]},u}function ae(n,t){function e(n,t){var e=Math.sqrt(i-2uMath.sin(t))u;return[eMath.sin(n=u),o-eMath.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))2,i=1+r(2u-r),o=Math.sqrt(i)u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)u,H((i-(nn+ee)uu)(2u))]},e}function ce(){function n(n,t){Nc+=un-rt,r=n,u=t}var t,e,r,u;Rc.point=function(i,o){Rc.point=n,t=r=i,e=u=o},Rc.lineEnd=function(){n(t,e)}}function se(n,t){Lcn&&(Lc=n),nqc&&(qc=n),Tct&&(Tc=t),tzc&&(zc=t)}function le(){function n(n,t){o.push(M,n,,,t,i)}function t(n,t){o.push(M,n,,,t),a.point=e}function e(n,t){o.push(L,n,,,t)}function r(){a.point=n}function u(){o.push(Z)}var i=fe(4.5),o=[],a={pointn,lineStartfunction(){a.point=t},lineEndr,polygonStartfunction(){a.lineEnd=u},polygonEndfunction(){a.lineEnd=r,a.point=n},pointRadiusfunction(n){return i=fe(n),a},resultfunction(){if(o.length){var n=o.join();return o=[],n}}};return a}function fe(n){returnm0,+n+a+n+,+n+ 0 1,1 0,+-2n+a+n+,+n+ 0 1,1 0,+2n+z}function he(n,t){dc+=n,mc+=t,++yc}function ge(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(uu+ii);xc+=o(t+n)2,Mc+=o(e+r)2,_c+=o,he(t=n,e=r)}var t,e;Pc.point=function(r,u){Pc.point=n,he(t=r,e=u)}}function pe(){Pc.point=he}function ve(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(ee+ii);xc+=o(r+n)2,Mc+=o(u+t)2,_c+=o,o=un-rt,bc+=o(r+n),wc+=o(u+t),Sc+=3o,he(r=n,u=t)}var t,e,r,u;Pc.point=function(i,o){Pc.point=n,he(t=r=i,e=u=o)},Pc.lineEnd=function(){n(t,e)}}function de(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,o,0,Ea)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={pointt,lineStartfunction(){a.point=e},lineEndu,polygonStartfunction(){a.lineEnd=i},polygonEndfunction(){a.lineEnd=u,a.point=t},pointRadiusfunction(n){return o=n,a},resultc};return a}function me(n){function t(n){return(are)(n)}function e(t){return Me(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){x=00,S.point=i,t.lineStart()}function i(e,r){var i=Tt([e,r]),o=n(e,r);u(x,M,y,_,b,w,x=o[0],M=o[1],y=e,_=i[0],b=i[1],w=i[2],a,t),t.point(x,M)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=s,S.lineEnd=l}function s(n,t){i(f=n,h=t),g=x,p=M,v=_,d=b,m=w,S.point=i}function l(){u(x,M,y,_,b,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,x,M,_,b,w,S={pointe,lineStartr,lineEndo,polygonStartfunction(){t.polygonStart(),S.lineStart=c},polygonEndfunction(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,s,l,f,h,g,p,v,d,m){var y=l-t,x=f-e,M=yy+xx;if(M4i&&d--){var _=a+g,b=c+p,w=s+v,S=Math.sqrt(__+bb+ww),k=Math.asin(w=S),E=aa(aa(w)-1)Caaa(r-h)Ca(r+h)2Math.atan2(b,_),A=n(E,k),C=A[0],N=A[1],L=C-t,T=N-e,q=xL-yT;(qqMiaa((yL+xT)M-.5).3oag+cp+sv)&&(u(t,e,r,a,c,s,C,N,E,_=S,b=S,w,d,m),m.point(C,N),u(C,N,E,_,b,w,l,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30La),a=16;return t.precision=function(n){return arguments.length(a=(i=nn)0&&16,t)Math.sqrt(i)},t}function ye(n){var t=me(function(t,e){return n([tTa,eTa])});return function(n){return we(t(n))}}function xe(n){this.stream=n}function Me(n,t){return{pointt,spherefunction(){n.sphere()},lineStartfunction(){n.lineStart()},lineEndfunction(){n.lineEnd()},polygonStartfunction(){n.polygonStart()},polygonEndfunction(){n.polygonEnd()}}}function _e(n){return be(function(){return n})()}function be(n){function t(n){return n=a(n[0]La,n[1]La),[n[0]h+c,s-n[1]h]}function e(n){return n=a.invert((n[0]-c)h,(s-n[1])h),n&&[n[0]Ta,n[1]Ta]}function r(){a=ie(o=Ee(m,y,x),i);var n=i(v,d);return c=g-n[0]h,s=p+n[1]h,u()}function u(){return l&&(l.valid=!1,l=null),t}var i,o,a,c,s,l,f=me(function(n,t){return n=i(n,t),[n[0]h+c,s-n[1]h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,x=0,M=Ec,_=vt,b=null,w=null;return t.stream=function(n){return l&&(l.valid=!1),l=we(M(o,f(_(n)))),l.valid=!0,l},t.clipAngle=function(n){return arguments.length(M=null==n(b=n,Ec)ee((b=+n)La),u())b},t.clipExtent=function(n){return arguments.length(w=n,_=nue(n[0][0],n[0][1],n[1][0],n[1][1])vt,u())w},t.scale=function(n){return arguments.length(h=+n,r())h},t.translate=function(n){return arguments.length(g=+n[0],p=+n[1],r())[g,p]},t.center=function(n){return arguments.length(v=n[0]%360La,d=n[1]%360La,r())[vTa,dTa]},t.rotate=function(n){return arguments.length(m=n[0]%360La,y=n[1]%360La,x=n.length2n[2]%360La0,r())[mTa,yTa,xTa]},$o.rebind(t,f,precision),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function we(n){return Me(n,function(t,e){n.point(tLa,eLa)})}function Se(n,t){return[n,t]}function ke(n,t){return[nkan-Ea-kann+Ean,t]}function Ee(n,t,e){return nteie(Ce(n),Ne(t,e))Ce(n)teNe(t,e)ke}function Ae(n){return function(t,e){return t+=n,[tkat-Ea-katt+Eat,e]}}function Ce(n){var t=Ae(n);return t.invert=Ae(-n),t}function Ne(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)e,c=Math.sin(n)e,s=Math.sin(t),l=sr+au;return[Math.atan2(ci-lo,ar-su),H(li+co)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)e,c=Math.sin(n)e,s=Math.sin(t),l=si-co;return[Math.atan2(ci+so,ar+lu),H(lr-au)]},e}function Le(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=ot;null!=u(u=Te(e,u),i=Te(e,i),(o0iuui)&&(u+=oEa))(u=n+oEa,i=n-.5c);for(var s,l=u;o0liil;l-=c)a.point((s=Ut([e,-rMath.cos(l),-rMath.sin(l)]))[0],s[1])}}function Te(n,t){var e=Tt(t);e[0]-=n,Pt(e);var r=j(-e[1]);return((-e[2]0-rr)+2Math.PI-Ca)%(2Math.PI)}function qe(n,t,e){var r=$o.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ze(n,t,e){var r=$o.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Re(n){return n.source}function De(n){return n.target}function Pe(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=uMath.cos(n),s=uMath.sin(n),l=oMath.cos(e),f=oMath.sin(e),h=2Math.asin(Math.sqrt(I(r-t)+uoI(e-n))),g=1Math.sin(h),p=hfunction(n){var t=Math.sin(n=h)g,e=Math.sin(h-n)g,r=ec+tl,u=es+tf,o=ei+ta;return[Math.atan2(u,r)Ta,Math.atan2(o,Math.sqrt(rr+uu))Ta]}function(){return[nTa,tTa]};return p.distance=h,p}function Ue(){function n(n,u){var i=Math.sin(u=La),o=Math.cos(u),a=aa((n=La)-t),c=Math.cos(a);Uc+=Math.atan2(Math.sqrt((a=oMath.sin(a))a+(a=ri-eoc)a),ei+roc),t=n,e=i,r=o}var t,e,r;jc.point=function(u,i){t=uLa,e=Math.sin(i=La),r=Math.cos(i),jc.point=n},jc.lineEnd=function(){jc.point=jc.lineEnd=c}}function je(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(ru);return[iuMath.sin(t),iMath.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(nn+ee),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(ni,ro),Math.asin(r&&eir)]},e}function He(n,t){function e(n,t){var e=aa(aa(t)-Aa)Ca0oMath.pow(u(t),i);return[eMath.sin(in),o-eMath.cos(in)]}var r=Math.cos(n),u=function(n){return Math.tan(ka4+n2)},i=n===tMath.sin(n)Math.log(rMath.cos(t))Math.log(u(t)u(n)),o=rMath.pow(u(n),i)i;return i(e.invert=function(n,t){var e=o-t,r=U(i)Math.sqrt(nn+ee);return[Math.atan2(n,e)i,2Math.atan(Math.pow(or,1i))-Aa]},e)Oe}function Fe(n,t){function e(n,t){var e=i-t;return[eMath.sin(un),i-eMath.cos(un)]}var r=Math.cos(n),u=n===tMath.sin(n)(r-Math.cos(t))(t-n),i=ru+n;return aa(u)CaSe(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)u,i-U(u)Math.sqrt(nn+ee)]},e)}function Oe(n,t){return[n,Math.log(Math.tan(ka4+t2))]}function Ye(n){var t,e=_e(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===ete.clipExtent(null)en},e.translate=function(){var n=u.apply(e,arguments);return n===ete.clipExtent(null)en},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=kar(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ie(n,t){var e=Math.cos(t)Math.sin(n);return[Math.log((1+e)(1-e))2,Math.atan2(Math.tan(t),Math.cos(n))]}function Ze(n){return n[0]}function Ve(n){return n[1]}function Xe(n,t,e,r){var u,i,o,a,c,s,l;return u=r[n],i=u[0],o=u[1],u=r[t],a=u[0],c=u[1],u=r[e],s=u[0],l=u[1],(l-o)(a-i)-(c-o)(s-i)0}function $e(n,t,e){return(e[0]-t[0])(n[1]-t[1])(e[1]-t[1])(n[0]-t[0])}function Be(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],s=e[1],l=t[1]-c,f=r[1]-s,h=(a(c-s)-f(u-i))(fo-al);return[u+ho,c+hl]}function We(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]t[1]-e[1])}function Je(){mr(this),this.edge=this.site=this.circle=null}function Ge(n){var t=Jc.pop()new Je;return t.site=n,t}function Ke(n){cr(n),$c.remove(n),Jc.push(n),mr(n)}function Qe(n){var t=n.circle,e=t.x,r=t.cy,u={xe,yr},i=n.P,o=n.N,a=[n];Ke(n);for(var c=i;c.circle&&aa(e-c.circle.x)Ca&&aa(r-c.circle.cy)Ca;)i=c.P,a.unshift(c),Ke(c),c=i;a.unshift(c),cr(c);for(var s=o;s.circle&&aa(e-s.circle.x)Ca&&aa(r-s.circle.cy)Ca;)o=s.N,a.push(s),Ke(s),s=o;a.push(s),cr(s);var l,f=a.length;for(l=1;fl;++l)s=a[l],c=a[l-1],pr(s.edge,c.site,s.site,u);c=a[0],s=a[f-1],s.edge=hr(c.site,s.site,null,u),ar(c),ar(s)}function nr(n){for(var t,e,r,u,i=n.x,o=n.y,a=$c._;a;)if(r=tr(a,o)-i,rCa)a=a.L;else{if(u=i-er(a,o),!(uCa)){r-Ca(t=a.P,e=a)u-Ca(t=a,e=a.N)t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Ge(n);if($c.insert(t,c),te){if(t===e)return cr(t),e=Ge(t.site),$c.insert(c,e),c.edge=e.edge=hr(t.site,c.site),ar(t),ar(e),void 0;if(!e)return c.edge=hr(t.site,c.site),void 0;cr(t),cr(e);var s=t.site,l=s.x,f=s.y,h=n.x-l,g=n.y-f,p=e.site,v=p.x-l,d=p.y-f,m=2(hd-gv),y=hh+gg,x=vv+dd,M={x(dy-gx)m+l,y(hx-vy)m+f};pr(e.edge,s,p,M),c.edge=hr(s,n,null,M),e.edge=hr(n,p,null,M),ar(t),ar(e)}}function tr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-10;e=o.site;var a=e.x,c=e.y,s=c-t;if(!s)return a;var l=a-r,f=1i-1s,h=ls;return f(-h+Math.sqrt(hh-2f(ll(-2s)-c+s2+u-i2)))f+r(r+a)2}function er(n,t){var e=n.N;if(e)return tr(e,t);var r=n.site;return r.y===tr.x10}function rr(n){this.site=n,this.edges=[]}function ur(n){for(var t,e,r,u,i,o,a,c,s,l,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Xc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;co;)l=a[o].end(),r=l.x,u=l.y,s=a[++o%c].start(),t=s.x,e=s.y,(aa(r-t)Caaa(u-e)Ca)&&(a.splice(o,0,new vr(gr(i.site,l,aa(r-f)Ca&&p-uCa{xf,yaa(t-f)Caep}aa(u-p)Ca&&h-rCa{xaa(e-p)Cath,yp}aa(r-h)Ca&&u-gCa{xh,yaa(t-h)Caeg}aa(u-g)Ca&&r-fCa{xaa(e-g)Catf,yg}null),i.site,null)),++c)}function ir(n,t){return t.angle-n.angle}function or(){mr(this),this.x=this.y=this.arc=this.site=this.cy=null}function ar(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,s=r.y-a,l=i.x-o,f=i.y-a,h=2(cf-sl);if(!(h=-Na)){var g=cc+ss,p=ll+ff,v=(fg-sp)h,d=(cp-lg)h,f=d+a,m=Gc.pop()new or;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(vv+dd),m.cy=f,n.circle=m;for(var y=null,x=Wc._;x;)if(m.yx.ym.y===x.y&&m.x=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Wc.insert(y,m),y(Bc=m)}}}}function cr(n){var t=n.circle;t&&(t.P(Bc=t.N),Wc.remove(t),Gc.push(t),mr(t),n.circle=null)}function sr(n){for(var t,e=Vc,r=re(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!lr(t,n)!r(t)aa(t.a.x-t.b.x)Ca&&aa(t.a.y-t.b.y)Ca)&&(t.a=t.b=null,e.splice(u,1))}function lr(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],s=t[1][1],l=n.l,f=n.r,h=l.x,g=l.y,p=f.x,v=f.y,d=(h+p)2,m=(g+v)2;
if(v===g){if(odd=a)return;if(hp){if(i){if(i.y=s)return}else i={xd,yc};e={xd,ys}}else{if(i){if(i.yc)return}else i={xd,ys};e={xd,yc}}}else if(r=(h-p)(v-g),u=m-rd,-1rr1)if(hp){if(i){if(i.y=s)return}else i={x(c-u)r,yc};e={x(s-u)r,ys}}else{if(i){if(i.yc)return}else i={x(s-u)r,ys};e={x(c-u)r,yc}}else if(vg){if(i){if(i.x=a)return}else i={xo,yro+u};e={xa,yra+u}}else{if(i){if(i.xo)return}else i={xa,yra+u};e={xo,yro+u}}return n.a=i,n.b=e,!0}function fr(n,t){this.l=n,this.r=t,this.a=this.b=null}function hr(n,t,e,r){var u=new fr(n,t);return Vc.push(u),e&&pr(u,n,t,e),r&&pr(u,t,n,r),Xc[n.i].edges.push(new vr(u,n,t)),Xc[t.i].edges.push(new vr(u,t,n)),u}function gr(n,t,e){var r=new fr(n,null);return r.a=t,r.b=e,Vc.push(r),r}function pr(n,t,e,r){n.an.bn.l===en.b=rn.a=r(n.a=r,n.l=t,n.r=e)}function vr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=eMath.atan2(e.y-t.y,e.x-t.x)n.l===tMath.atan2(u.x-r.x,r.y-u.y)Math.atan2(r.x-u.x,u.y-r.y)}function dr(){this._=null}function mr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function yr(n,t){var e=t,r=t.R,u=e.U;uu.L===eu.L=ru.R=rn._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function xr(n,t){var e=t,r=t.L,u=e.U;uu.L===eu.L=ru.R=rn._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Mr(n){for(;n.L;)n=n.L;return n}function _r(n,t){var e,r,u,i=n.sort(br).pop();for(Vc=[],Xc=new Array(n.length),$c=new dr,Wc=new dr;;)if(u=Bc,i&&(!ui.yu.yi.y===u.y&&i.xu.x))(i.x!==ei.y!==r)&&(Xc[i.i]=new rr(i),nr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Qe(u.arc)}t&&(sr(t),ur(t));var o={cellsXc,edgesVc};return $c=Wc=Vc=Xc=null,o}function br(n,t){return t.y-n.yt.x-n.x}function wr(n,t,e){return(n.x-e.x)(t.y-n.y)-(n.x-t.x)(e.y-n.y)}function Sr(n){return n.x}function kr(n){return n.y}function Er(){return{leaf!0,nodes[],pointnull,xnull,ynull}}function Ar(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5(e+u),a=.5(r+i),c=t.nodes;c[0]&&Ar(n,c[0],e,r,o,a),c[1]&&Ar(n,c[1],o,r,u,a),c[2]&&Ar(n,c[2],e,a,o,i),c[3]&&Ar(n,c[3],o,a,u,i)}}function Cr(n,t){n=$o.rgb(n),t=$o.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return#+ct(Math.round(e+in))+ct(Math.round(r+on))+ct(Math.round(u+an))}}function Nr(n,t){var e,r={},u={};for(e in n)e in tr[e]=qr(n[e],t[e])u[e]=n[e];for(e in t)e in n(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function Lr(n,t){return t-=n=+n,function(e){return n+te}}function Tr(n,t){var e,r,u,i,o,a=0,c=0,s=[],l=[];for(n+=,t+=,Qc.lastIndex=0,r=0;e=Qc.exec(t);++r)e.index&&s.push(t.substring(a,c=e.index)),l.push({is.length,xe[0]}),s.push(null),a=Qc.lastIndex;for(at.length&&s.push(t.substring(a)),r=0,i=l.length;(e=Qc.exec(n))&&ir;++r)if(o=l[r],o.x==e[0]){if(o.i)if(null==s[o.i+1])for(s[o.i-1]+=o.x,s.splice(o.i,1),u=r+1;iu;++u)l[u].i--;else for(s[o.i-1]+=o.x+s[o.i+1],s.splice(o.i,2),u=r+1;iu;++u)l[u].i-=2;else if(null==s[o.i+1])s[o.i]=o.x;else for(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1),u=r+1;iu;++u)l[u].i--;l.splice(r,1),i--,r--}else o.x=Lr(parseFloat(e[0]),parseFloat(o.x));for(;ir;)o=l.pop(),null==s[o.i+1]s[o.i]=o.x(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1)),i--;return 1===s.lengthnull==s[0](o=l[0].x,function(n){return o(n)+})function(){return t}function(n){for(r=0;ir;++r)s[(o=l[r]).i]=o.x(n);return s.join()}}function qr(n,t){for(var e,r=$o.interpolators.length;--r=0&&!(e=$o.interpolators[r](n,t)););return e}function zr(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;ae;++e)r.push(qr(n[e],t[e]));for(;ie;++e)u[e]=n[e];for(;oe;++e)u[e]=t[e];return function(n){for(e=0;ae;++e)u[e]=r[e](n);return u}}function Rr(n){return function(t){return 0=t0t=11n(t)}}function Dr(n){return function(t){return 1-n(1-t)}}function Pr(n){return function(t){return.5(.5tn(2t)2-n(2-2t))}}function Ur(n){return nn}function jr(n){return nnn}function Hr(n){if(0=n)return 0;if(n=1)return 1;var t=nn,e=tn;return 4(.5ne3(n-t)+e-.75)}function Fr(n){return function(t){return Math.pow(t,n)}}function Or(n){return 1-Math.cos(nAa)}function Yr(n){return Math.pow(2,10(n-1))}function Ir(n){return 1-Math.sqrt(1-nn)}function Zr(n,t){var e;return arguments.length2&&(t=.45),arguments.lengthe=tEaMath.asin(1n)(n=1,e=t4),function(r){return 1+nMath.pow(2,-10r)Math.sin((r-e)Eat)}}function Vr(n){return n(n=1.70158),function(t){return tt((n+1)t-n)}}function Xr(n){return 12.75n7.5625nn22.75n7.5625(n-=1.52.75)n+.752.52.75n7.5625(n-=2.252.75)n+.93757.5625(n-=2.6252.75)n+.984375}function $r(n,t){n=$o.hcl(n),t=$o.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)t.cr),isNaN(i)(i=0,e=isNaN(e)t.he)i180i-=360-180i&&(i+=360),function(n){return J(e+in,r+on,u+an)+}}function Br(n,t){n=$o.hsl(n),t=$o.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)t.sr),isNaN(i)(i=0,e=isNaN(e)t.he)i180i-=360-180i&&(i+=360),function(n){return $(e+in,r+on,u+an)+}}function Wr(n,t){n=$o.lab(n),t=$o.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return Q(e+in,r+on,u+an)+}}function Jr(n,t){return t-=n,function(e){return Math.round(n+te)}}function Gr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Qr(t),u=Kr(t,e),i=Qr(nu(e,t,-u))0;t[0]e[1]e[0]t[1]&&(t[0]=-1,t[1]=-1,r=-1,u=-1),this.rotate=(rMath.atan2(t[1],t[0])Math.atan2(-e[0],e[1]))Ta,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=iMath.atan2(u,i)Ta0}function Kr(n,t){return n[0]t[0]+n[1]t[1]}function Qr(n){var t=Math.sqrt(Kr(n,n));return t&&(n[0]=t,n[1]=t),t}function nu(n,t,e){return n[0]+=et[0],n[1]+=et[1],n}function tu(n,t){var e,r=[],u=[],i=$o.transform(n),o=$o.transform(t),a=i.translate,c=o.translate,s=i.rotate,l=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]a[1]!=c[1](r.push(translate(,null,,,null,)),u.push({i1,xLr(a[0],c[0])},{i3,xLr(a[1],c[1])}))c[0]c[1]r.push(translate(+c+))r.push(),s!=l(s-l180l+=360l-s180&&(s+=360),u.push({ir.push(r.pop()+rotate(,null,))-2,xLr(s,l)}))l&&r.push(r.pop()+rotate(+l+)),f!=hu.push({ir.push(r.pop()+skewX(,null,))-2,xLr(f,h)})h&&r.push(r.pop()+skewX(+h+)),g[0]!=p[0]g[1]!=p[1](e=r.push(r.pop()+scale(,null,,,null,)),u.push({ie-4,xLr(g[0],p[0])},{ie-2,xLr(g[1],p[1])}))(1!=p[0]1!=p[1])&&r.push(r.pop()+scale(+p+)),e=u.length,function(n){for(var t,i=-1;++ie;)r[(t=u[i]).i]=t.x(n);return r.join()}}function eu(n,t){return t=t-(n=+n)1(t-n)0,function(e){return(e-n)t}}function ru(n,t){return t=t-(n=+n)1(t-n)0,function(e){return Math.max(0,Math.min(1,(e-n)t))}}function uu(n){for(var t=n.source,e=n.target,r=ou(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function iu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function ou(n,t){if(n===t)return n;for(var e=iu(n),r=iu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function au(n){n.fixed=2}function cu(n){n.fixed&=-7}function su(n){n.fixed=4,n.px=n.x,n.py=n.y}function lu(n){n.fixed&=-5}function fu(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++ca;)i=o[c],null!=i&&(fu(i,t,e),n.charge+=i.charge,r+=i.chargei.cx,u+=i.chargei.cy);if(n.point){n.leaf(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=te[n.point.index];n.charge+=n.pointCharge=s,r+=sn.point.x,u+=sn.point.y}n.cx=rn.charge,n.cy=un.charge}function hu(n,t){return $o.rebind(n,t,sort,children,value),n.nodes=n,n.links=du,n}function gu(n){return n.children}function pu(n){return n.value}function vu(n,t){return t.value-n.value}function du(n){return $o.merge(n.map(function(n){return(n.children[]).map(function(t){return{sourcen,targett}})}))}function mu(n){return n.x}function yu(n){return n.y}function xu(n,t,e){n.y0=t,n.y=e}function Mu(n){return $o.range(n.length)}function _u(n){for(var t=-1,e=n[0].length,r=[];++te;)r[t]=0;return r}function bu(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;ie;++e)(t=n[e][1])u&&(r=e,u=t);return r}function wu(n){return n.reduce(Su,0)}function Su(n,t){return n+t[1]}function ku(n,t){return Eu(n,Math.ceil(Math.log(t.length)Math.LN2+1))}function Eu(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)t,i=[];++e=t;)i[e]=ue+r;return i}function Au(n){return[$o.min(n),$o.max(n)]}function Cu(n,t){return n.parent==t.parent12}function Nu(n){var t=n.children;return t&&t.lengtht[0]n._tree.thread}function Lu(n){var t,e=n.children;return e&&(t=e.length)e[t-1]n._tree.thread}function Tu(n,t){var e=n.children;if(e&&(u=e.length))for(var r,u,i=-1;++iu;)t(r=Tu(e[i],t),n)0&&(n=r);return n}function qu(n,t){return n.x-t.x}function zu(n,t){return t.x-n.x}function Ru(n,t){return n.depth-t.depth}function Du(n,t){function e(n,r){var u=n.children;if(u&&(o=u.length))for(var i,o,a=null,c=-1;++co;)i=u[c],e(i,a),a=i;t(n,r)}e(n,null)}function Pu(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i=0;)t=u[i]._tree,t.prelim+=e,t.mod+=e,e+=t.shift+(r+=t.change)}function Uu(n,t,e){n=n._tree,t=t._tree;var r=e(t.number-n.number);n.change+=r,t.change-=r,t.shift+=e,t.prelim+=e,t.mod+=e}function ju(n,t,e){return n._tree.ancestor.parent==t.parentn._tree.ancestore}function Hu(n,t){return n.value-t.value}function Fu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Ou(n,t){n._pack_next=t,t._pack_prev=n}function Yu(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999uuee+rr}function Iu(n){function t(n){l=Math.min(n.x-n.r,l),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(s=e.length)){var e,r,u,i,o,a,c,s,l=10,f=-10,h=10,g=-10;if(e.forEach(Zu),r=e[0],r.x=-r.r,r.y=0,t(r),s1&&(u=e[1],u.x=u.r,u.y=0,t(u),s2))for(i=e[2],$u(r,u,i),t(i),Fu(r,i),r._pack_prev=i,Fu(i,u),u=r._pack_next,o=3;so;o++){$u(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(Yu(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!Yu(c,i);c=c._pack_prev,d++);p(dvv==d&&u.rr.rOu(r,u=a)Ou(r=c,u),o--)(Fu(r,i),u=i,t(i))}var m=(l+f)2,y=(h+g)2,x=0;for(o=0;so;o++)i=e[o],i.x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.xi.x+i.yi.y));n.r=x,e.forEach(Vu)}}function Zu(n){n._pack_next=n._pack_prev=n}function Vu(n){delete n._pack_next,delete n._pack_prev}function Xu(n,t,e,r){var u=n.children;if(n.x=t+=rn.x,n.y=e+=rn.y,n.r=r,u)for(var i=-1,o=u.length;++io;)Xu(u[i],t,e,r)}function $u(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(ui)){var o=t.r+e.r,a=uu+ii;o=o,r=r;var c=.5+(r-o)(2a),s=Math.sqrt(Math.max(0,2o(r+a)-(r-=a)r-oo))(2a);e.x=n.x+cu+si,e.y=n.y+ci-su}else e.x=n.x+r,e.y=n.y}function Bu(n){return 1+$o.max(n,function(n){return n.y})}function Wu(n){return n.reduce(function(n,t){return n+t.x},0)n.length}function Ju(n){var t=n.children;return t&&t.lengthJu(t[0])n}function Gu(n){var t,e=n.children;return e&&(t=e.length)Gu(e[t-1])n}function Ku(n){return{xn.x,yn.y,dxn.dx,dyn.dy}}function Qu(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0u&&(e+=u2,u=0),0i&&(r+=i2,i=0),{xe,yr,dxu,dyi}}function ni(n){var t=n[0],e=n[n.length-1];return et[t,e][e,t]}function ti(n){return n.rangeExtentn.rangeExtent()ni(n.range())}function ei(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function ri(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return io&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function ui(n){return n{floorfunction(t){return Math.floor(tn)n},ceilfunction(t){return Math.ceil(tn)n}}ss}function ii(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=$o.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function oi(n,t,e,r){function u(){var u=Math.min(n.length,t.length)2iiei,c=rrueu;return o=u(n,t,c,e),a=u(t,n,c,qr),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length(n=t.map(Number),u())n},i.range=function(n){return arguments.length(t=n,u())t},i.rangeRound=function(n){return i.range(n).interpolate(Jr)},i.clamp=function(n){return arguments.length(r=n,u())r},i.interpolate=function(n){return arguments.length(e=n,u())e},i.ticks=function(t){return li(n,t)},i.tickFormat=function(t,e){return fi(n,t,e)},i.nice=function(t){return ci(n,t),u()},i.copy=function(){return oi(n,t,e,r)},u()}function ai(n,t){return $o.rebind(n,t,range,rangeRound,interpolate,clamp)}function ci(n,t){return ri(n,ui(si(n,t)[2]))}function si(n,t){null==t&&(t=10);var e=ni(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(rt)Math.LN10)),i=tru;return.15=iu=10.35=iu=5.75=i&&(u=2),e[0]=Math.ceil(e[0]u)u,e[1]=Math.floor(e[1]u)u+.5u,e[2]=u,e}function li(n,t){return $o.range.apply($o,si(n,t))}function fi(n,t,e){var r=si(n,t);return $o.format(ee.replace(uc,function(n,t,e,u,i,o,a,c,s,l){return[t,e,u,i,o,a,c,s.+gi(l,r),l].join()}),.+hi(r[2])+f)}function hi(n){return-Math.floor(Math.log(n)Math.LN10+.01)}function gi(n,t){var e=hi(t[2]);return n in lsMath.abs(e-hi(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +(e!==n)e-2(%===n)}function pi(n,t,e,r){function u(n){return(eMath.log(0n0n)-Math.log(n00-n))Math.log(t)}function i(n){return eMath.pow(t,n)-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length(e=t[0]=0,n.domain((r=t.map(Number)).map(u)),o)r},o.base=function(e){return arguments.length(t=+e,n.domain(r.map(u)),o)t},o.nice=function(){var t=ri(r.map(u),eMathhs);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=ni(r),o=[],a=n[0],c=n[1],s=Math.floor(u(a)),l=Math.ceil(u(c)),f=t%12t;if(isFinite(l-s)){if(e){for(;ls;s++)for(var h=1;fh;h++)o.push(i(s)h);o.push(i(s))}else for(o.push(i(s));s++l;)for(var h=f-1;h0;h--)o.push(i(s)h);for(s=0;o[s]a;s++);for(l=o.length;o[l-1]c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(n,t){if(!arguments.length)return fs;arguments.length2t=fsfunction!=typeof t&&(t=$o.format(t));var r,a=Math.max(.1,no.ticks().length),c=e(r=1e-12,Math.ceil)(r=-1e-12,Math.floor);return function(n){return ni(c(u(n)+r))=at(n)}},o.copy=function(){return pi(n.copy(),t,e,r)},ai(o,n)}function vi(n,t,e){function r(t){return n(u(t))}var u=di(t),i=di(1t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length(n.domain((e=t.map(Number)).map(u)),r)e},r.ticks=function(n){return li(e,n)},r.tickFormat=function(n,t){return fi(e,n,t)},r.nice=function(n){return r.domain(ci(e,n))},r.exponent=function(o){return arguments.length(u=di(t=o),i=di(1t),n.domain(e.map(u)),r)t},r.copy=function(){return vi(n.copy(),t,e)},ai(r,n)}function di(n){return function(t){return 0t-Math.pow(-t,n)Math.pow(t,n)}}function mi(n,t){function e(e){return o[((i.get(e)range===t.t&&i.set(e,n.push(e)))-1)%o.length]}function r(t,e){return $o.range(n.length).map(function(n){return t+en})}var i,o,a;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new u;for(var o,a=-1,c=r.length;++ac;)i.has(o=r[a])i.set(o,n.push(o));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length(o=n,a=0,t={trange,aarguments},e)o},e.rangePoints=function(u,i){arguments.length2&&(i=0);var c=u[0],s=u[1],l=(s-c)(Math.max(1,n.length-1)+i);return o=r(n.length2(c+s)2c+li2,l),a=0,t={trangePoints,aarguments},e},e.rangeBands=function(u,i,c){arguments.length2&&(i=0),arguments.length3&&(c=i);var s=u[1]u[0],l=u[s-0],f=u[1-s],h=(f-l)(n.length-i+2c);return o=r(l+hc,h),s&&o.reverse(),a=h(1-i),t={trangeBands,aarguments},e},e.rangeRoundBands=function(u,i,c){arguments.length2&&(i=0),arguments.length3&&(c=i);var s=u[1]u[0],l=u[s-0],f=u[1-s],h=Math.floor((f-l)(n.length-i+2c)),g=f-l-(n.length-i)h;return o=r(l+Math.round(g2),h),s&&o.reverse(),a=Math.round(h(1-i)),t={trangeRoundBands,aarguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return ni(t.a[0])},e.copy=function(){return mi(n,t)},e.domain(n)}function yi(n,t){function e(){var e=0,i=t.length;for(u=[];++ei;)u[e-1]=$o.quantile(n,ei);return r}function r(n){return isNaN(n=+n)void 0t[$o.bisect(u,n)]}var u;return r.domain=function(t){return arguments.length(n=t.filter(function(n){return!isNaN(n)}).sort($o.ascending),e())n},r.range=function(n){return arguments.length(t=n,e())t},r.quantiles=function(){return u},r.invertExtent=function(e){return e=t.indexOf(e),0e[00,00][e0u[e-1]n[0],eu.lengthu[e]n[n.length-1]]},r.copy=function(){return yi(n,t)},e()}function xi(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i(t-n))))]}function u(){return i=e.length(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length(n=+e[0],t=+e[e.length-1],u())[n,t]},r.range=function(n){return arguments.length(e=n,u())e},r.invertExtent=function(t){return t=e.indexOf(t),t=0t00ti+n,[t,t+1i]},r.copy=function(){return xi(n,t,e)},u()}function Mi(n,t){function e(e){return e=et[$o.bisect(n,e)]void 0}return e.domain=function(t){return arguments.length(n=t,e)n},e.range=function(n){return arguments.length(t=n,e)t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return Mi(n,t)},e}function _i(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length(n=e.map(t),t)n},t.ticks=function(t){return li(n,t)},t.tickFormat=function(t,e){return fi(n,t,e)},t.copy=function(){return _i(n)},t}function bi(n){return n.innerRadius}function wi(n){return n.outerRadius}function Si(n){return n.startAngle}function ki(n){return n.endAngle}function Ei(n){function t(t){function o(){s.push(M,i(n(l),a))}for(var c,s=[],l=[],f=-1,h=t.length,g=pt(e),p=pt(r);++fh;)u.call(this,c=t[f],f)l.push([+g.call(this,c,f),+p.call(this,c,f)])l.length&&(o(),l=[]);return l.length&&o(),s.lengths.join()null}var e=Ze,r=Ve,u=Zt,i=Ai,o=i.key,a=.7;return t.x=function(n){return arguments.length(e=n,t)e},t.y=function(n){return arguments.length(r=n,t)r},t.defined=function(n){return arguments.length(u=n,t)u},t.interpolate=function(n){return arguments.length(o=function==typeof ni=n(i=xs.get(n)Ai).key,t)o},t.tension=function(n){return arguments.length(a=n,t)a},t}function Ai(n){return n.join(L)}function Ci(n){return Ai(n)+Z}function Ni(n){for(var t=0,e=n.length,r=n[0],u=[r[0],,,r[1]];++te;)u.push(H,(r[0]+(r=n[t])[0])2,V,r[1]);return e1&&u.push(H,r[0]),u.join()}function Li(n){for(var t=0,e=n.length,r=n[0],u=[r[0],,,r[1]];++te;)u.push(V,(r=n[t])[1],H,r[0]);return u.join()}function Ti(n){for(var t=0,e=n.length,r=n[0],u=[r[0],,,r[1]];++te;)u.push(H,(r=n[t])[0],V,r[1]);return u.join()}function qi(n,t){return n.length4Ai(n)n[1]+Di(n.slice(1,n.length-1),Pi(n,t))}function zi(n,t){return n.length3Ai(n)n[0]+Di((n.push(n[0]),n),Pi([n[n.length-2]].concat(n,[n[1]]),t))}function Ri(n,t){return n.length3Ai(n)n[0]+Di(n,Pi(n,t))}function Di(n,t){if(t.length1n.length!=t.length&&n.length!=t.length+2)return Ai(n);var e=n.length!=t.length,r=,u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+=Q+(i[0]-2o[0]3)+,+(i[1]-2o[1]3)+,+i[0]+,+i[1],u=n[1],c=2),t.length1){a=t[1],i=n[c],c++,r+=C+(u[0]+o[0])+,+(u[1]+o[1])+,+(i[0]-a[0])+,+(i[1]-a[1])+,+i[0]+,+i[1];for(var s=2;st.length;s++,c++)i=n[c],a=t[s],r+=S+(i[0]-a[0])+,+(i[1]-a[1])+,+i[0]+,+i[1]}if(e){var l=n[c];r+=Q+(i[0]+2a[0]3)+,+(i[1]+2a[1]3)+,+l[0]+,+l[1]}return r}function Pi(n,t){for(var e,r=[],u=(1-t)2,i=n[0],o=n[1],a=1,c=n.length;++ac;)e=i,i=o,o=n[a],r.push([u(o[0]-e[0]),u(o[1]-e[1])]);return r}function Ui(n){if(n.length3)return Ai(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,,,i,L,Oi(bs,o),,,Oi(bs,a)];for(n.push(n[e-1]);++t=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Yi(c,o,a);return n.pop(),c.push(L,r),c.join()}function ji(n){if(n.length4)return Ai(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(Oi(bs,i)+,+Oi(bs,o)),--r;++ru;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Yi(e,i,o);return e.join()}function Hi(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[Oi(bs,o),,,Oi(bs,a)],--r;++ri;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Yi(t,o,a);return t.join()}function Fi(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,s=-1;++s=e;)r=n[s],u=se,r[0]=tr[0]+(1-t)(i+ua),r[1]=tr[1]+(1-t)(o+uc);return Ui(n)}function Oi(n,t){return n[0]t[0]+n[1]t[1]+n[2]t[2]+n[3]t[3]}function Yi(n,t,e){n.push(C,Oi(Ms,t),,,Oi(Ms,e),,,Oi(_s,t),,,Oi(_s,e),,,Oi(bs,t),,,Oi(bs,e))}function Ii(n,t){return(t[1]-n[1])(t[0]-n[0])}function Zi(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=Ii(u,i);++te;)r[t]=(o+(o=Ii(u=i,i=n[t+1])))2;return r[t]=o,r}function Vi(n){for(var t,e,r,u,i=[],o=Zi(n),a=-1,c=n.length-1;++ac;)t=Ii(n[a],n[a+1]),aa(t)Cao[a]=o[a+1]=0(e=o[a]t,r=o[a+1]t,u=ee+rr,u9&&(u=3tMath.sqrt(u),o[a]=ue,o[a+1]=ur));for(a=-1;++a=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])(6(1+o[a]o[a])),i.push([u0,o[a]u0]);return i}function Xi(n){return n.length3Ai(n)n[0]+Di(n,Vi(n))}function $i(n){for(var t,e,r,u=-1,i=n.length;++ui;)t=n[u],e=t[0],r=t[1]+ms,t[0]=eMath.cos(r),t[1]=eMath.sin(r);return n}function Bi(n){function t(t){function c(){v.push(M,a(n(m),f),l,s(n(d.reverse()),f),Z)}for(var h,g,p,v=[],d=[],m=[],y=-1,x=t.length,M=pt(e),_=pt(u),b=e===rfunction(){return g}pt(r),w=u===ifunction(){return p}pt(i);++yx;)o.call(this,h=t[y],y)(d.push([g=+M.call(this,h,y),p=+_.call(this,h,y)]),m.push([+b.call(this,h,y),+w.call(this,h,y)]))d.length&&(c(),d=[],m=[]);return d.length&&c(),v.lengthv.join()null}var e=Ze,r=Ze,u=0,i=Ve,o=Zt,a=Ai,c=a.key,s=a,l=L,f=.7;return t.x=function(n){return arguments.length(e=r=n,t)r},t.x0=function(n){return arguments.length(e=n,t)e},t.x1=function(n){return arguments.length(r=n,t)r},t.y=function(n){return arguments.length(u=i=n,t)i},t.y0=function(n){return arguments.length(u=n,t)u},t.y1=function(n){return arguments.length(i=n,t)i},t.defined=function(n){return arguments.length(o=n,t)o},t.interpolate=function(n){return arguments.length(c=function==typeof na=n(a=xs.get(n)Ai).key,s=a.reversea,l=a.closedML,t)c},t.tension=function(n){return arguments.length(f=n,t)f},t}function Wi(n){return n.radius}function Ji(n){return[n.x,n.y]}function Gi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+ms;return[eMath.cos(r),eMath.sin(r)]}}function Ki(){return 64}function Qi(){returncircle}function no(n){var t=Math.sqrt(nka);returnM0,+t+A+t+,+t+ 0 1,1 0,+-t+A+t+,+t+ 0 1,1 0,+t+Z}function to(n,t){return ha(n,Cs),n.id=t,n}function eo(n,t,e,r){var u=n.id;return C(n,function==typeof efunction(n,i,o){n.__transition__[u].tween.set(t,r(e.call(n,n.__data__,i,o)))}(e=r(e),function(n){n.__transition__[u].tween.set(t,e)}))}function ro(n){return null==n&&(n=),function(){this.textContent=n}}function uo(n,t,e,r){var i=n.__transition__(n.__transition__={active0,count0}),o=i[e];if(!o){var a=r.time;o=i[e]={tweennew u,timea,easer.ease,delayr.delay,durationr.duration},++i.count,$o.timer(function(r){function u(r){return i.activees()(i.active=e,o.event&&o.event.start.call(n,l,t),o.tween.forEach(function(e,r){(r=r.call(n,l,t))&&v.push(r)}),$o.timer(function(){return p.c=c(r1)Ztc,1},0,a),void 0)}function c(r){if(i.active!==e)return s();for(var u=rg,a=f(u),c=v.length;c0;)v[--c].call(n,a);return u=1(o.event&&o.event.end.call(n,l,t),s())void 0}function s(){return--i.countdelete i[e]delete n.__transition__,1}var l=n.__data__,f=o.ease,h=o.delay,g=o.duration,p=Ga,v=[];return p.t=h+a,r=hu(r-h)(p.c=u,void 0)},0,a)}}function io(n,t){n.attr(transform,function(n){returntranslate(+t(n)+,0)})}function oo(n,t){n.attr(transform,function(n){returntranslate(0,+t(n)+)})}function ao(){this._=new Date(arguments.length1Date.UTC.apply(this,arguments)arguments[0])}function co(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-tt-eer}function u(e){return t(e=n(new Ds(e-1)),1),e}function i(n,e){return t(n=new Ds(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i1)for(;ro;)e(o)%ia.push(new Date(+o)),t(o,1);else for(;ro;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{Ds=ao;var r=new ao;return r._=n,o(r,t,e)}finally{Ds=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=so(n);return c.floor=c,c.round=so(r),c.ceil=so(u),c.offset=so(i),c.range=a,n}function so(n){return function(t,e){try{Ds=ao;var r=new ao;return r._=t,n(r,e)._}finally{Ds=Date}}}function lo(n){function t(t){for(var r,u,i,o=[],a=-1,c=0;++ae;)37===n.charCodeAt(a)&&(o.push(n.substring(c,a)),null!=(u=nl[r=n.charAt(++a)])&&(r=n.charAt(++a)),(i=tl[r])&&(r=i(t,null==ue===r 0u)),o.push(r),c=a+1);return o.push(n.substring(c,a)),o.join()}var e=n.length;return t.parse=function(t){var e={y1900,m0,d1,H0,M0,S0,L0,Znull},r=fo(e,n,t,0);if(r!=t.length)return null;pin e&&(e.H=e.H%12+12e.p);var u=null!=e.Z&&Ds!==ao,i=new(uaoDs);returnjin ei.setFullYear(e.y,0,e.j)win e&&(Win eUin e)(i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,Win e(e.w+6)%7+7e.W-(i.getDay()+5)%7e.w+7e.U-(i.getDay()+6)%7))i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+Math.floor(e.Z100),e.M+e.Z%100,e.S,e.L),ui._i},t.toString=function(){return n},t}function fo(n,t,e,r){for(var u,i,o,a=0,c=t.length,s=e.length;ca;){if(r=s)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=el[o in nlt.charAt(a++)o],!i(r=i(n,e,r))0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function ho(n){return new RegExp(^(+n.map($o.requote).join()+),i)}function go(n){for(var t=new u,e=-1,r=n.length;++er;)t.set(n[e].toLowerCase(),e);return t}function po(n,t,e){var r=0n-,u=(r-nn)+,i=u.length;return r+(einew Array(e-i+1).join(t)+uu)}function vo(n,t,e){$s.lastIndex=0;var r=$s.exec(t.substring(e));return r(n.w=Bs.get(r[0].toLowerCase()),e+r[0].length)-1}function mo(n,t,e){Vs.lastIndex=0;var r=Vs.exec(t.substring(e));return r(n.w=Xs.get(r[0].toLowerCase()),e+r[0].length)-1}function yo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+1));return r(n.w=+r[0],e+r[0].length)-1}function xo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e));return r(n.U=+r[0],e+r[0].length)-1}function Mo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e));return r(n.W=+r[0],e+r[0].length)-1}function _o(n,t,e){Gs.lastIndex=0;var r=Gs.exec(t.substring(e));return r(n.m=Ks.get(r[0].toLowerCase()),e+r[0].length)-1}function bo(n,t,e){Ws.lastIndex=0;var r=Ws.exec(t.substring(e));return r(n.m=Js.get(r[0].toLowerCase()),e+r[0].length)-1}function wo(n,t,e){return fo(n,tl.c.toString(),t,e)}function So(n,t,e){return fo(n,tl.x.toString(),t,e)}function ko(n,t,e){return fo(n,tl.X.toString(),t,e)}function Eo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+4));return r(n.y=+r[0],e+r[0].length)-1}function Ao(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.y=No(+r[0]),e+r[0].length)-1}function Co(n,t,e){return^[+-]d{4}$.test(t=t.substring(e,e+5))(n.Z=+t,e+5)-1}function No(n){return n+(n6819002e3)}function Lo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.m=r[0]-1,e+r[0].length)-1}function To(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.d=+r[0],e+r[0].length)-1}function qo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+3));return r(n.j=+r[0],e+r[0].length)-1}function zo(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.H=+r[0],e+r[0].length)-1}function Ro(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.M=+r[0],e+r[0].length)-1}function Do(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+2));return r(n.S=+r[0],e+r[0].length)-1}function Po(n,t,e){rl.lastIndex=0;var r=rl.exec(t.substring(e,e+3));return r(n.L=+r[0],e+r[0].length)-1}function Uo(n,t,e){var r=ul.get(t.substring(e,e+=2).toLowerCase());return null==r-1(n.p=r,e)}function jo(n){var t=n.getTimezoneOffset(),e=t0-+,r=~~(aa(t)60),u=aa(t)%60;return e+po(r,0,2)+po(u,0,2)}function Ho(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+1));return re+r[0].length-1}function Fo(n){function t(n){try{Ds=ao;var t=new Ds;return t._=n,e(t)}finally{Ds=Date}}var e=lo(n);return t.parse=function(n){try{Ds=ao;var t=e.parse(n);return t&&t._}finally{Ds=Date}},t.toString=e.toString,t}function Oo(n){return n.toISOString()}function Yo(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=re,i=$o.bisect(ol,u);return i==ol.length[t.year,si(n.map(function(n){return n31536e6}),e)[2]]it[uol[i-1]ol[i]ui-1i][ll,si(n,e)[2]]}return r.invert=function(t){return Io(n.invert(t))},r.domain=function(t){return arguments.length(n.domain(t),r)n.domain().map(Io)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Io(+e+1),t).length}var i=r.domain(),o=ni(i),a=null==nu(o,10)number==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(ri(i,t1{floorfunction(t){for(;e(t=n.floor(t));)t=Io(t-1);return t},ceilfunction(t){for(;e(t=n.ceil(t));)t=Io(+t+1);return t}}n))},r.ticks=function(n,t){var e=ni(r.domain()),i=null==nu(e,10)number==typeof nu(e,n)!n.range&&[{rangen},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Io(+e[1]+1),1t1t)},r.tickFormat=function(){return e},r.copy=function(){return Yo(n.copy(),t,e)},ai(r,n)}function Io(n){return new Date(n)}function Zo(n){return function(t){for(var e=n.length-1,r=n[e];!r[1](t);)r=n[--e];return r[0](t)}}function Vo(n){return JSON.parse(n.responseText)}function Xo(n){var t=Jo.createRange();return t.selectNode(Jo.body),t.createContextualFragment(n.responseText)}var $o={version3.3.10};Date.now(Date.now=function(){return+new Date});var Bo=[].slice,Wo=function(n){return Bo.call(n)},Jo=document,Go=Jo.documentElement,Ko=window;try{Wo(Go.childNodes)[0].nodeType}catch(Qo){Wo=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{Jo.createElement(div).style.setProperty(opacity,0,)}catch(na){var ta=Ko.Element.prototype,ea=ta.setAttribute,ra=ta.setAttributeNS,ua=Ko.CSSStyleDeclaration.prototype,ia=ua.setProperty;ta.setAttribute=function(n,t){ea.call(this,n,t+)},ta.setAttributeNS=function(n,t,e){ra.call(this,n,t,e+)},ua.setProperty=function(n,t,e){ia.call(this,n,t+,e)}}$o.ascending=function(n,t){return tn-1nt1n=t000},$o.descending=function(n,t){return nt-1tn1t=n000},$o.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++ui&&!(null!=(e=n[u])&&e=e);)e=void 0;for(;++ui;)null!=(r=n[u])&&er&&(e=r)}else{for(;++ui&&!(null!=(e=t.call(n,n[u],u))&&e=e);)e=void 0;for(;++ui;)null!=(r=t.call(n,n[u],u))&&er&&(e=r)}return e},$o.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++ui&&!(null!=(e=n[u])&&e=e);)e=void 0;for(;++ui;)null!=(r=n[u])&&re&&(e=r)}else{for(;++ui&&!(null!=(e=t.call(n,n[u],u))&&e=e);)e=void 0;for(;++ui;)null!=(r=t.call(n,n[u],u))&&re&&(e=r)}return e},$o.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++io&&!(null!=(e=u=n[i])&&e=e);)e=u=void 0;for(;++io;)null!=(r=n[i])&&(er&&(e=r),ru&&(u=r))}else{for(;++io&&!(null!=(e=u=t.call(n,n[i],i))&&e=e);)e=void 0;for(;++io;)null!=(r=t.call(n,n[i],i))&&(er&&(e=r),ru&&(u=r))}return[e,u]},$o.sum=function(n,t){var e,r=0,u=n.length,i=-1;if(1===arguments.length)for(;++iu;)isNaN(e=+n[i])(r+=e);else for(;++iu;)isNaN(e=+t.call(n,n[i],i))(r+=e);return r},$o.mean=function(t,e){var r,u=t.length,i=0,o=-1,a=0;if(1===arguments.length)for(;++ou;)n(r=t[o])&&(i+=(r-i)++a);else for(;++ou;)n(r=e.call(t,t[o],o))&&(i+=(r-i)++a);return aivoid 0},$o.quantile=function(n,t){var e=(n.length-1)t+1,r=Math.floor(e),u=+n[r-1],i=e-r;
return iu+i(n[r]-u)u},$o.median=function(t,e){return arguments.length1&&(t=t.map(e)),t=t.filter(n),t.length$o.quantile(t.sort($o.ascending),.5)void 0},$o.bisector=function(n){return{leftfunction(t,e,r,u){for(arguments.length3&&(r=0),arguments.length4&&(u=t.length);ur;){var i=r+u1;n.call(t,t[i],i)er=i+1u=i}return r},rightfunction(t,e,r,u){for(arguments.length3&&(r=0),arguments.length4&&(u=t.length);ur;){var i=r+u1;en.call(t,t[i],i)u=ir=i+1}return r}}};var oa=$o.bisector(function(n){return n});$o.bisectLeft=oa.left,$o.bisect=$o.bisectRight=oa.right,$o.shuffle=function(n){for(var t,e,r=n.length;r;)e=0Math.random()r--,t=n[r],n[r]=n[e],n[e]=t;return n},$o.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},$o.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0r0r);re;)i[e]=[t=u,u=n[++e]];return i},$o.zip=function(){if(!(u=arguments.length))return[];for(var n=-1,e=$o.min(arguments,t),r=new Array(e);++ne;)for(var u,i=-1,o=r[n]=new Array(u);++iu;)o[i]=arguments[i][n];return r},$o.transpose=function(n){return $o.zip.apply($o,n)},$o.keys=function(n){var t=[];for(var e in n)t.push(e);return t},$o.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},$o.entries=function(n){var t=[];for(var e in n)t.push({keye,valuen[e]});return t},$o.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++iu;)o+=n[i].length;for(e=new Array(o);--u=0;)for(r=n[u],t=r.length;--t=0;)e[--o]=r[t];return e};var aa=Math.abs;$o.range=function(n,t,r){if(arguments.length3&&(r=1,arguments.length2&&(t=n,n=0)),10===(t-n)r)throw new Error(infinite range);var u,i=[],o=e(aa(r)),a=-1;if(n=o,t=o,r=o,0r)for(;(u=n+r++a)t;)i.push(uo);else for(;(u=n+r++a)t;)i.push(uo);return i},$o.map=function(n){var t=new u;if(n instanceof u)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t},r(u,{hasfunction(n){return ca+n in this},getfunction(n){return this[ca+n]},setfunction(n,t){return this[ca+n]=t},removefunction(n){return n=ca+n,n in this&&delete this[n]},keysfunction(){var n=[];return this.forEach(function(t){n.push(t)}),n},valuesfunction(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entriesfunction(){var n=[];return this.forEach(function(t,e){n.push({keyt,valuee})}),n},forEachfunction(n){for(var t in this)t.charCodeAt(0)===sa&&n.call(this,t.substring(1),this[t])}});var ca=x00,sa=ca.charCodeAt(0);$o.nest=function(){function n(t,a,c){if(c=o.length)return rr.call(i,a)ea.sort(e)a;for(var s,l,f,h,g=-1,p=a.length,v=o[c++],d=new u;++gp;)(h=d.get(s=v(l=a[g])))h.push(l)d.set(s,[l]);return t(l=t(),f=function(e,r){l.set(e,n(t,r,c))})(l={},f=function(e,r){l[e]=n(t,r,c)}),d.forEach(f),l}function t(n,e){if(e=o.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({keyn,valuest(u,e)})}),ur.sort(function(n,t){return u(n.key,t.key)})r}var e,r,i={},o=[],a=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n($o.map,e,0),0)},i.key=function(n){return o.push(n),i},i.sortKeys=function(n){return a[o.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},$o.set=function(n){var t=new i;if(n)for(var e=0,r=n.length;re;++e)t.add(n[e]);return t},r(i,{hasfunction(n){return ca+n in this},addfunction(n){return this[ca+n]=!0,n},removefunction(n){return n=ca+n,n in this&&delete this[n]},valuesfunction(){var n=[];return this.forEach(function(t){n.push(t)}),n},forEachfunction(n){for(var t in this)t.charCodeAt(0)===sa&&n.call(this,t.substring(1))}}),$o.behavior={},$o.rebind=function(n,t){for(var e,r=1,u=arguments.length;++ru;)n[e=arguments[r]]=o(n,t,t[e]);return n};var la=[webkit,ms,moz,Moz,o,O];$o.dispatch=function(){for(var n=new s,t=-1,e=arguments.length;++te;)n[arguments[t]]=l(n);return n},s.prototype.on=function(n,t){var e=n.indexOf(.),r=;if(e=0&&(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length2this[n].on(r)this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},$o.event=null,$o.requote=function(n){return n.replace(fa,$&)};var fa=[^$+[]().{}]g,ha={}.__proto__function(n,t){n.__proto__=t}function(n,t){for(var e in t)n[e]=t[e]},ga=function(n,t){return t.querySelector(n)},pa=function(n,t){return t.querySelectorAll(n)},va=Go[a(Go,matchesSelector)],da=function(n,t){return va.call(n,t)};function==typeof Sizzle&&(ga=function(n,t){return Sizzle(n,t)[0]null},pa=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},da=Sizzle.matchesSelector),$o.selection=function(){return Ma};var ma=$o.selection.prototype=[];ma.select=function(n){var t,e,r,u,i=[];n=v(n);for(var o=-1,a=this.length;++oa;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,s=r.length;++cs;)(u=r[c])(t.push(e=n.call(u,u.__data__,c,o)),e&&__data__in u&&(e.__data__=u.__data__))t.push(null)}return p(i)},ma.selectAll=function(n){var t,e,r=[];n=d(n);for(var u=-1,i=this.length;++ui;)for(var o=this[u],a=-1,c=o.length;++ac;)(e=o[a])&&(r.push(t=Wo(n.call(e,e.__data__,a,u))),t.parentNode=e);return p(r)};var ya={svghttpwww.w3.org2000svg,xhtmlhttpwww.w3.org1999xhtml,xlinkhttpwww.w3.org1999xlink,xmlhttpwww.w3.orgXML1998namespace,xmlnshttpwww.w3.org2000xmlns};$o.ns={prefixya,qualifyfunction(n){var t=n.indexOf(),e=n;return t=0&&(e=n.substring(0,t),n=n.substring(t+1)),ya.hasOwnProperty(e){spaceya[e],localn}n}},ma.attr=function(n,t){if(arguments.length2){if(string==typeof n){var e=this.node();return n=$o.ns.qualify(n),n.locale.getAttributeNS(n.space,n.local)e.getAttribute(n)}for(t in n)this.each(m(t,n[t]));return this}return this.each(m(n,t))},ma.classed=function(n,t){if(arguments.length2){if(string==typeof n){var e=this.node(),r=(n=n.trim().split(^s+g)).length,u=-1;if(t=e.classList){for(;++ur;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute(class);++ur;)if(!x(n[u]).test(t))return!1;return!0}for(t in n)this.each(M(t,n[t]));return this}return this.each(M(n,t))},ma.style=function(n,t,e){var r=arguments.length;if(3r){if(string!=typeof n){2r&&(t=);for(e in n)this.each(b(e,n[e],t));return this}if(2r)return Ko.getComputedStyle(this.node(),null).getPropertyValue(n);e=}return this.each(b(n,t,e))},ma.property=function(n,t){if(arguments.length2){if(string==typeof n)return this.node()[n];for(t in n)this.each(w(t,n[t]));return this}return this.each(w(n,t))},ma.text=function(n){return arguments.lengththis.each(function==typeof nfunction(){var t=n.apply(this,arguments);this.textContent=null==tt}null==nfunction(){this.textContent=}function(){this.textContent=n})this.node().textContent},ma.html=function(n){return arguments.lengththis.each(function==typeof nfunction(){var t=n.apply(this,arguments);this.innerHTML=null==tt}null==nfunction(){this.innerHTML=}function(){this.innerHTML=n})this.node().innerHTML},ma.append=function(n){return n=S(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},ma.insert=function(n,t){return n=S(n),t=v(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)null)})},ma.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},ma.data=function(n,t){function e(n,e){var r,i,o,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new u,y=new u,x=[];for(r=-1;++ra;)d=t.call(i=n[r],i.__data__,r),m.has(d)v[r]=im.set(d,i),x.push(d);for(r=-1;++rf;)d=t.call(e,o=e[r],r),(i=m.get(d))(g[r]=i,i.__data__=o)y.has(d)(p[r]=k(o)),y.set(d,o),m.remove(d);for(r=-1;++ra;)m.has(x[r])&&(v[r]=n[r])}else{for(r=-1;++rh;)i=n[r],o=e[r],i(i.__data__=o,g[r]=i)p[r]=k(o);for(;fr;++r)p[r]=k(e[r]);for(;ar;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),s.push(g),l.push(v)}var r,i,o=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++oa;)(i=r[o])&&(n[o]=i.__data__);return n}var c=N([]),s=p([]),l=p([]);if(function==typeof n)for(;++oa;)e(r=this[o],n.call(r,r.parentNode.__data__,o));else for(;++oa;)e(r=this[o],n);return s.enter=function(){return c},s.exit=function(){return l},s},ma.datum=function(n){return arguments.lengththis.property(__data__,n)this.property(__data__)},ma.filter=function(n){var t,e,r,u=[];function!=typeof n&&(n=E(n));for(var i=0,o=this.length;oi;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;ca;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return p(u)},ma.order=function(){for(var n=-1,t=this.length;++nt;)for(var e,r=this[n],u=r.length-1,i=r[u];--u=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},ma.sort=function(n){n=A.apply(this,arguments);for(var t=-1,e=this.length;++te;)this[t].sort(n);return this.order()},ma.each=function(n){return C(this,function(t,e,r){n.call(t,t.__data__,e,r)})},ma.call=function(n){var t=Wo(arguments);return n.apply(t[0]=this,t),this},ma.empty=function(){return!this.node()},ma.node=function(){for(var n=0,t=this.length;tn;n++)for(var e=this[n],r=0,u=e.length;ur;r++){var i=e[r];if(i)return i}return null},ma.size=function(){var n=0;return this.each(function(){++n}),n};var xa=[];$o.selection.enter=N,$o.selection.enter.prototype=xa,xa.append=ma.append,xa.empty=ma.empty,xa.node=ma.node,xa.call=ma.call,xa.size=ma.size,xa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++ac;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var s=-1,l=u.length;++sl;)(i=u[s])(t.push(r[s]=e=n.call(u.parentNode,i.__data__,s,a)),e.__data__=i.__data__)t.push(null)}return p(o)},xa.insert=function(n,t){return arguments.length2&&(t=L(this)),ma.insert.call(this,n,t)},ma.transition=function(){for(var n,t,e=Ss++Ns,r=[],u=ks{timeDate.now(),easeHr,delay0,duration250},i=-1,o=this.length;++io;){r.push(n=[]);for(var a=this[i],c=-1,s=a.length;++cs;)(t=a[c])&&uo(t,c,e,u),n.push(t)}return to(r,e)},ma.interrupt=function(){return this.each(T)},$o.select=function(n){var t=[string==typeof nga(n,Jo)n];return t.parentNode=Go,p([t])},$o.selectAll=function(n){var t=Wo(string==typeof npa(n,Jo)n);return t.parentNode=Go,p([t])};var Ma=$o.select(Go);ma.on=function(n,t,e){var r=arguments.length;if(3r){if(string!=typeof n){2r&&(t=!1);for(e in n)this.each(q(e,n[e],t));return this}if(2r)return(r=this.node()[__on+n])&&r._;e=!1}return this.each(q(n,t,e))};var _a=$o.map({mouseentermouseover,mouseleavemouseout});_a.forEach(function(n){on+n in Jo&&_a.remove(n)});var ba=onselectstartin Jonulla(Go.style,userSelect),wa=0;$o.mouse=function(n){return P(n,h())};var Sa=WebKit.test(Ko.navigator.userAgent)-10;$o.touches=function(n,t){return arguments.length2&&(t=h().touches),tWo(t).map(function(t){var e=P(n,t);return e.identifier=t.identifier,e})[]},$o.behavior.drag=function(){function n(){this.on(mousedown.drag,o).on(touchstart.drag,a)}function t(){return $o.event.changedTouches[0].identifier}function e(n,t){return $o.touches(n).filter(function(n){return n.identifier===t})[0]}function r(n,t,e,r){return function(){function o(){var n=t(l,g),e=n[0]-v[0],r=n[1]-v[1];d=er,v=n,f({typedrag,xn[0]+c[0],yn[1]+c[1],dxe,dyr})}function a(){m.on(e+.+p,null).on(r+.+p,null),y(d&&$o.event.target===h),f({typedragend})}var c,s=this,l=s.parentNode,f=u.of(s,arguments),h=$o.event.target,g=n(),p=null==gdragdrag-+g,v=t(l,g),d=0,m=$o.select(Ko).on(e+.+p,o).on(r+.+p,a),y=D();i(c=i.apply(s,arguments),c=[c.x-v[0],c.y-v[1]])c=[0,0],f({typedragstart})}}var u=g(n,drag,dragstart,dragend),i=null,o=r(c,$o.mouse,mousemove,mouseup),a=r(t,e,touchmove,touchend);return n.origin=function(t){return arguments.length(i=t,n)i},$o.rebind(n,u,on)};var ka=Math.PI,Ea=2ka,Aa=ka2,Ca=1e-6,Na=CaCa,La=ka180,Ta=180ka,qa=Math.SQRT2,za=2,Ra=4;$o.interpolateZoom=function(n,t){function e(n){var t=ny;if(m){var e=O(v),o=i(zah)(eY(qat+v)-F(v));return[r+os,u+ol,ieO(qat+v)]}return[r+ns,u+nl,iMath.exp(qat)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=o-r,l=a-u,f=ss+ll,h=Math.sqrt(f),g=(cc-ii+Raf)(2izah),p=(cc-ii-Raf)(2czah),v=Math.log(Math.sqrt(gg+1)-g),d=Math.log(Math.sqrt(pp+1)-p),m=d-v,y=(mMath.log(ci))qa;return e.duration=1e3y,e},$o.behavior.zoom=function(){function n(n){n.on(A,s).on(Ua+.zoom,h).on(C,p).on(dblclick.zoom,v).on(L,l)}function t(n){return[(n[0]-S.x)S.k,(n[1]-S.y)S.k]}function e(n){return[n[0]S.k+S.x,n[1]S.k+S.y]}function r(n){S.k=Math.max(E[0],Math.min(E[1],n))}function u(n,t){t=e(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}function i(){_&&_.domain(M.range().map(function(n){return(n-S.x)S.k}).map(M.invert)),w&&w.domain(b.range().map(function(n){return(n-S.y)S.k}).map(b.invert))}function o(n){n({typezoomstart})}function a(n){i(),n({typezoom,scaleS.k,translate[S.x,S.y]})}function c(n){n({typezoomend})}function s(){function n(){l=1,u($o.mouse(r),h),a(i)}function e(){f.on(C,Ko===rpnull).on(N,null),g(l&&$o.event.target===s),c(i)}var r=this,i=q.of(r,arguments),s=$o.event.target,l=0,f=$o.select(Ko).on(C,n).on(N,e),h=t($o.mouse(r)),g=D();T.call(r),o(i)}function l(){function n(){var n=$o.touches(p);return g=S.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=t(n))}),n}function e(){for(var t=$o.event.changedTouches,e=0,i=t.length;ie;++e)d[t[e].identifier]=null;var o=n(),c=Date.now();if(1===o.length){if(500c-x){var s=o[0],l=d[s.identifier];r(2S.k),u(s,l),f(),a(v)}x=c}else if(o.length1){var s=o[0],h=o[1],g=s[0]-h[0],p=s[1]-h[1];m=gg+pp}}function i(){for(var n,t,e,i,o=$o.touches(p),c=0,s=o.length;sc;++c,i=null)if(e=o[c],i=d[e.identifier]){if(t)break;n=e,t=i}if(i){var l=(l=e[0]-n[0])l+(l=e[1]-n[1])l,f=m&&Math.sqrt(lm);n=[(n[0]+e[0])2,(n[1]+e[1])2],t=[(t[0]+i[0])2,(t[1]+i[1])2],r(fg)}x=null,u(n,t),a(v)}function h(){if($o.event.touches.length){for(var t=$o.event.changedTouches,e=0,r=t.length;re;++e)delete d[t[e].identifier];for(var u in d)return void n()}b.on(M,null).on(_,null),w.on(A,s).on(L,l),k(),c(v)}var g,p=this,v=q.of(p,arguments),d={},m=0,y=$o.event.changedTouches[0].identifier,M=touchmove.zoom-+y,_=touchend.zoom-+y,b=$o.select(Ko).on(M,i).on(_,h),w=$o.select(p).on(A,null).on(L,e),k=D();T.call(p),e(),o(v)}function h(){var n=q.of(this,arguments);yclearTimeout(y)(T.call(this),o(n)),y=setTimeout(function(){y=null,c(n)},50),f();var e=m$o.mouse(this);d(d=t(e)),r(Math.pow(2,.002Da())S.k),u(e,d),a(n)}function p(){d=null}function v(){var n=q.of(this,arguments),e=$o.mouse(this),i=t(e),s=Math.log(S.k)Math.LN2;o(n),r(Math.pow(2,$o.event.shiftKeyMath.ceil(s)-1Math.floor(s)+1)),u(e,i),a(n),c(n)}var d,m,y,x,M,_,b,w,S={x0,y0,k1},k=[960,500],E=Pa,A=mousedown.zoom,C=mousemove.zoom,N=mouseup.zoom,L=touchstart.zoom,q=g(n,zoomstart,zoom,zoomend);return n.event=function(n){n.each(function(){var n=q.of(this,arguments),t=S;Ss$o.select(this).transition().each(start.zoom,function(){S=this.__chart__{x0,y0,k1},o(n)}).tween(zoomzoom,function(){var e=k[0],r=k[1],u=e2,i=r2,o=$o.interpolateZoom([(u-S.x)S.k,(i-S.y)S.k,eS.k],[(u-t.x)t.k,(i-t.y)t.k,et.k]);return function(t){var r=o(t),c=er[2];this.__chart__=S={xu-r[0]c,yi-r[1]c,kc},a(n)}}).each(end.zoom,function(){c(n)})(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length(S={x+t[0],y+t[1],kS.k},i(),n)[S.x,S.y]},n.scale=function(t){return arguments.length(S={xS.x,yS.y,k+t},i(),n)S.k},n.scaleExtent=function(t){return arguments.length(E=null==tPa[+t[0],+t[1]],n)E},n.center=function(t){return arguments.length(m=t&&[+t[0],+t[1]],n)m},n.size=function(t){return arguments.length(k=t&&[+t[0],+t[1]],n)k},n.x=function(t){return arguments.length(_=t,M=t.copy(),S={x0,y0,k1},n)_},n.y=function(t){return arguments.length(w=t,b=t.copy(),S={x0,y0,k1},n)w},$o.rebind(n,q,on)};var Da,Pa=[0,10],Ua=onwheelin Jo(Da=function(){return-$o.event.deltaY($o.event.deltaMode1201)},wheel)onmousewheelin Jo(Da=function(){return $o.event.wheelDelta},mousewheel)(Da=function(){return-$o.event.detail},MozMousePixelScroll);Z.prototype.toString=function(){return this.rgb()+},$o.hsl=function(n,t,e){return 1===arguments.lengthn instanceof XV(n.h,n.s,n.l)st(+n,lt,V)V(+n,+t,+e)};var ja=X.prototype=new Z;ja.brighter=function(n){return n=Math.pow(.7,arguments.lengthn1),V(this.h,this.s,this.ln)},ja.darker=function(n){return n=Math.pow(.7,arguments.lengthn1),V(this.h,this.s,nthis.l)},ja.rgb=function(){return $(this.h,this.s,this.l)},$o.hcl=function(n,t,e){return 1===arguments.lengthn instanceof WB(n.h,n.c,n.l)n instanceof Knt(n.l,n.a,n.b)nt((n=ft((n=$o.rgb(n)).r,n.g,n.b)).l,n.a,n.b)B(+n,+t,+e)};var Ha=W.prototype=new Z;Ha.brighter=function(n){return B(this.h,this.c,Math.min(100,this.l+Fa(arguments.lengthn1)))},Ha.darker=function(n){return B(this.h,this.c,Math.max(0,this.l-Fa(arguments.lengthn1)))},Ha.rgb=function(){return J(this.h,this.c,this.l).rgb()},$o.lab=function(n,t,e){return 1===arguments.lengthn instanceof KG(n.l,n.a,n.b)n instanceof WJ(n.l,n.c,n.h)ft((n=$o.rgb(n)).r,n.g,n.b)G(+n,+t,+e)};var Fa=18,Oa=.95047,Ya=1,Ia=1.08883,Za=K.prototype=new Z;Za.brighter=function(n){return G(Math.min(100,this.l+Fa(arguments.lengthn1)),this.a,this.b)},Za.darker=function(n){return G(Math.max(0,this.l-Fa(arguments.lengthn1)),this.a,this.b)},Za.rgb=function(){return Q(this.l,this.a,this.b)},$o.rgb=function(n,t,e){return 1===arguments.lengthn instanceof atot(n.r,n.g,n.b)st(+n,ot,$)ot(~~n,~~t,~~e)};var Va=at.prototype=new Z;Va.brighter=function(n){n=Math.pow(.7,arguments.lengthn1);var t=this.r,e=this.g,r=this.b,u=30;return ter(t&&ut&&(t=u),e&&ue&&(e=u),r&&ur&&(r=u),ot(Math.min(255,~~(tn)),Math.min(255,~~(en)),Math.min(255,~~(rn))))ot(u,u,u)},Va.darker=function(n){return n=Math.pow(.7,arguments.lengthn1),ot(~~(nthis.r),~~(nthis.g),~~(nthis.b))},Va.hsl=function(){return lt(this.r,this.g,this.b)},Va.toString=function(){return#+ct(this.r)+ct(this.g)+ct(this.b)};var Xa=$o.map({aliceblue15792383,antiquewhite16444375,aqua65535,aquamarine8388564,azure15794175,beige16119260,bisque16770244,black0,blanchedalmond16772045,blue255,blueviolet9055202,brown10824234,burlywood14596231,cadetblue6266528,chartreuse8388352,chocolate13789470,coral16744272,cornflowerblue6591981,cornsilk16775388,crimson14423100,cyan65535,darkblue139,darkcyan35723,darkgoldenrod12092939,darkgray11119017,darkgreen25600,darkgrey11119017,darkkhaki12433259,darkmagenta9109643,darkolivegreen5597999,darkorange16747520,darkorchid10040012,darkred9109504,darksalmon15308410,darkseagreen9419919,darkslateblue4734347,darkslategray3100495,darkslategrey3100495,darkturquoise52945,darkviolet9699539,deeppink16716947,deepskyblue49151,dimgray6908265,dimgrey6908265,dodgerblue2003199,firebrick11674146,floralwhite16775920,forestgreen2263842,fuchsia16711935,gainsboro14474460,ghostwhite16316671,gold16766720,goldenrod14329120,gray8421504,green32768,greenyellow11403055,grey8421504,honeydew15794160,hotpink16738740,indianred13458524,indigo4915330,ivory16777200,khaki15787660,lavender15132410,lavenderblush16773365,lawngreen8190976,lemonchiffon16775885,lightblue11393254,lightcoral15761536,lightcyan14745599,lightgoldenrodyellow16448210,lightgray13882323,lightgreen9498256,lightgrey13882323,lightpink16758465,lightsalmon16752762,lightseagreen2142890,lightskyblue8900346,lightslategray7833753,lightslategrey7833753,lightsteelblue11584734,lightyellow16777184,lime65280,limegreen3329330,linen16445670,magenta16711935,maroon8388608,mediumaquamarine6737322,mediumblue205,mediumorchid12211667,mediumpurple9662683,mediumseagreen3978097,mediumslateblue8087790,mediumspringgreen64154,mediumturquoise4772300,mediumvioletred13047173,midnightblue1644912,mintcream16121850,mistyrose16770273,moccasin16770229,navajowhite16768685,navy128,oldlace16643558,olive8421376,olivedrab7048739,orange16753920,orangered16729344,orchid14315734,palegoldenrod15657130,palegreen10025880,paleturquoise11529966,palevioletred14381203,papayawhip16773077,peachpuff16767673,peru13468991,pink16761035,plum14524637,powderblue11591910,purple8388736,red16711680,rosybrown12357519,royalblue4286945,saddlebrown9127187,salmon16416882,sandybrown16032864,seagreen3050327,seashell16774638,sienna10506797,silver12632256,skyblue8900331,slateblue6970061,slategray7372944,slategrey7372944,snow16775930,springgreen65407,steelblue4620980,tan13808780,teal32896,thistle14204888,tomato16737095,turquoise4251856,violet15631086,wheat16113331,white16777215,whitesmoke16119285,yellow16776960,yellowgreen10145074});Xa.forEach(function(n,t){Xa.set(n,ut(t))}),$o.functor=pt,$o.xhr=dt(vt),$o.dsv=function(n,t){function e(n,e,i){arguments.length3&&(i=e,e=null);var o=$o.xhr(n,t,i);return o.row=function(n){return arguments.lengtho.response(null==(e=n)ru(n))e},o.row(e)}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function o(t){return t.map(a).join(n)}function a(n){return c.test(n)''+n.replace(g,'')+''n}var c=new RegExp('['+n+n]),s=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function(d,return {+n.map(function(n,t){return JSON.stringify(n)+ d[+t+]}).join(,)+});r=tfunction(n,e){return t(u(n),e)}u})},e.parseRows=function(n,t){function e(){if(l=c)return o;if(u)return u=!1,i;var t=l;if(34===n.charCodeAt(t)){for(var e=t;e++c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}l=e+2;var r=n.charCodeAt(e+1);return 13===r(u=!0,10===n.charCodeAt(e+2)&&++l)10===r&&(u=!0),n.substring(t+1,e).replace(g,'')}for(;cl;){var r=n.charCodeAt(l++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(l)&&(++l,++a);else if(r!==s)continue;return n.substring(t,l-a)}return n.substring(t)}for(var r,u,i={},o={},a=[],c=n.length,l=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();(!t(h=t(h,f++)))&&a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new i,u=[];return t.forEach(function(n){for(var t in n)r.has(t)u.push(r.add(t))}),[u.map(a).join(n)].concat(t.map(function(t){return u.map(function(n){return a(t[n])}).join(n)})).join(n)},e.formatRows=function(n){return n.map(o).join(n)},e},$o.csv=$o.dsv(,,textcsv),$o.tsv=$o.dsv(	,texttab-separated-values);var $a,Ba,Wa,Ja,Ga,Ka=Ko[a(Ko,requestAnimationFrame)]function(n){setTimeout(n,17)};$o.timer=function(n,t,e){var r=arguments.length;2r&&(t=0),3r&&(e=Date.now());var u=e+t,i={cn,tu,f!1,nnull};BaBa.n=i$a=i,Ba=i,Wa(Ja=clearTimeout(Ja),Wa=1,Ka(xt))},$o.timer.flush=function(){Mt(),_t()};var Qa=.,nc=,,tc=[3,3],ec=$,rc=[y,z,a,f,p,n,xb5,m,,k,M,G,T,P,E,Z,Y].map(bt);$o.formatPrefix=function(n,t){var e=0;return n&&(0n&&(n=-1),t&&(n=$o.round(n,wt(n,t))),e=1+Math.floor(1e-12+Math.log(n)Math.LN10),e=Math.max(-24,Math.min(24,3Math.floor((0=ee+1e-1)3)))),rc[8+e3]},$o.round=function(n,t){return tMath.round(n(t=Math.pow(10,t)))tMath.round(n)},$o.format=function(n){var t=uc.exec(n),e=t[1] ,r=t[2],u=t[3],i=t[4],o=t[5],a=+t[6],c=t[7],s=t[8],l=t[9],f=1,h=,g=!1;switch(s&&(s=+s.substring(1)),(o0===e&&====r)&&(o=e=0,r==,c&&(a-=Math.floor((a-1)4))),l){casenc=!0,l=g;break;case%f=100,h=%,l=f;break;casepf=100,h=%,l=r;break;casebcaseocasexcaseX#===i&&(i=0+l.toLowerCase());caseccasedg=!0,s=0;break;casesf=-1,l=r}#===ii=$===i&&(i=ec),r!=ls(l=g),null!=s&&(g==ls=Math.max(1,Math.min(21,s))(e==lf==l)&&(s=Math.max(0,Math.min(20,s)))),l=ic.get(l)St;var p=o&&c;return function(n){if(g&&n%1)return;var t=0n0===n&&01n(n=-n,-)u;if(0f){var v=$o.formatPrefix(n,s);n=v.scale(n),h=v.symbol}else n=f;n=l(n,s);var d=n.lastIndexOf(.),m=0dnn.substring(0,d),y=0dQa+n.substring(d+1);!o&&c&&(m=oc(m));var x=i.length+m.length+y.length+(p0t.length),M=axnew Array(x=a-x+1).join(e);return p&&(m=oc(M+m)),t+=i,n=m+y,(===rt+n+M===rM+t+n^===rM.substring(0,x=1)+t+n+M.substring(x)t+(pnM+n))+h}};var uc=(([^{])([=^]))([+- ])([$#])(0)(d+)(,)(.-d+)([a-z%])i,ic=$o.map({bfunction(n){return n.toString(2)},cfunction(n){return String.fromCharCode(n)},ofunction(n){return n.toString(8)},xfunction(n){return n.toString(16)},Xfunction(n){return n.toString(16).toUpperCase()},gfunction(n,t){return n.toPrecision(t)},efunction(n,t){return n.toExponential(t)},ffunction(n,t){return n.toFixed(t)},rfunction(n,t){return(n=$o.round(n,wt(n,t))).toFixed(Math.max(0,Math.min(20,wt(n(1+1e-15),t))))}}),oc=vt;if(tc){var ac=tc.length;oc=function(n){for(var t=n.length,e=[],r=0,u=tc[0];t0&&u0;)e.push(n.substring(t-=u,t+u)),u=tc[r=(r+1)%ac];return e.reverse().join(nc)}}$o.geo={},kt.prototype={s0,t0,addfunction(n){Et(n,this.t,cc),Et(cc.s,this.s,this),this.sthis.t+=cc.tthis.s=cc.t},resetfunction(){this.s=this.t=0},valueOffunction(){return this.s}};var cc=new kt;$o.geo.stream=function(n,t){n&&sc.hasOwnProperty(n.type)sc[n.type](n,t)At(n,t)};var sc={Featurefunction(n,t){At(n.geometry,t)},FeatureCollectionfunction(n,t){for(var e=n.features,r=-1,u=e.length;++ru;)At(e[r].geometry,t)}},lc={Spherefunction(n,t){t.sphere()},Pointfunction(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPointfunction(n,t){for(var e=n.coordinates,r=-1,u=e.length;++ru;)n=e[r],t.point(n[0],n[1],n[2])},LineStringfunction(n,t){Ct(n.coordinates,t,0)},MultiLineStringfunction(n,t){for(var e=n.coordinates,r=-1,u=e.length;++ru;)Ct(e[r],t,0)},Polygonfunction(n,t){Nt(n.coordinates,t)},MultiPolygonfunction(n,t){for(var e=n.coordinates,r=-1,u=e.length;++ru;)Nt(e[r],t)},GeometryCollectionfunction(n,t){for(var e=n.geometries,r=-1,u=e.length;++ru;)At(e[r],t)}};$o.geo.area=function(n){return fc=0,$o.geo.stream(n,gc),fc};var fc,hc=new kt,gc={spherefunction(){fc+=4ka},pointc,lineStartc,lineEndc,polygonStartfunction(){hc.reset(),gc.lineStart=Lt},polygonEndfunction(){var n=2hc;fc+=0n4ka+nn,gc.lineStart=gc.lineEnd=gc.point=c}};$o.geo.bounds=function(){function n(n,t){x.push(M=[l=n,h=n]),ft&&(f=t),tg&&(g=t)}function t(t,e){var r=Tt([tLa,eLa]);if(m){var u=zt(m,r),i=[u[1],-u[0],0],o=zt(i,u);Pt(o),o=Ut(o);var c=t-p,s=c01-1,v=o[0]Tas,d=aa(c)180;if(d^(vsp&&stv)){var y=o[1]Ta;yg&&(g=y)}else if(v=(v+360)%360-180,d^(vsp&&stv)){var y=-o[1]Ta;fy&&(f=y)}else fe&&(f=e),eg&&(g=e);dpta(l,t)a(l,h)&&(h=t)a(t,h)a(l,h)&&(l=t)h=l(lt&&(l=t),th&&(h=t))tpa(l,t)a(l,h)&&(h=t)a(t,h)a(l,h)&&(l=t)}else n(t,e);m=r,p=t}function e(){_.point=t}function r(){M[0]=l,M[1]=h,_.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=aa(r)180r+(r0360-360)r}else v=n,d=e;gc.point(n,e),t(n,e)}function i(){gc.lineStart()}function o(){u(v,d),gc.lineEnd(),aa(y)Ca&&(l=-(h=180)),M[0]=l,M[1]=h,m=null}function a(n,t){return(t-=n)0t+360t}function c(n,t){return n[0]-t[0]}function s(n,t){return t[0]=t[1]t[0]=n&&n=t[1]nt[0]t[1]n}var l,f,h,g,p,v,d,m,y,x,M,_={pointn,lineStarte,lineEndr,polygonStartfunction(){_.point=u,_.lineStart=i,_.lineEnd=o,y=0,gc.polygonStart()},polygonEndfunction(){gc.polygonEnd(),_.point=n,_.lineStart=e,_.lineEnd=r,0hc(l=-(h=180),f=-(g=90))yCag=90-Cay&&(f=-90),M[0]=l,M[1]=h}};return function(n){g=h=-(l=f=10),x=[],$o.geo.stream(n,_);var t=x.length;if(t){x.sort(c);for(var e,r=1,u=x[0],i=[u];tr;++r)e=x[r],s(e[0],u)s(e[1],u)(a(u[0],e[1])a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])a(u[0],u[1])&&(u[0]=e[0]))i.push(u=e);for(var o,e,p=-10,t=i.length-1,r=0,u=i[t];t=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))p&&(p=o,l=e[0],h=u[1])}return x=M=null,10===l10===f[[00,00],[00,00]][[l,f],[h,g]]}}(),$o.geo.centroid=function(n){pc=vc=dc=mc=yc=xc=Mc=_c=bc=wc=Sc=0,$o.geo.stream(n,kc);var t=bc,e=wc,r=Sc,u=tt+ee+rr;return Nau&&(t=xc,e=Mc,r=_c,Cavc&&(t=dc,e=mc,r=yc),u=tt+ee+rr,Nau)[00,00][Math.atan2(e,t)Ta,H(rMath.sqrt(u))Ta]};var pc,vc,dc,mc,yc,xc,Mc,_c,bc,wc,Sc,kc={spherec,pointHt,lineStartOt,lineEndYt,polygonStartfunction(){kc.lineStart=It},polygonEndfunction(){kc.lineStart=Ot}},Ec=Bt(Zt,Qt,te,[-ka,-ka2]),Ac=1e9;$o.geo.clipExtent=function(){var n,t,e,r,u,i,o={streamfunction(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extentfunction(a){return arguments.length(i=ue(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o)[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},($o.geo.conicEqualArea=function(){return oe(ae)}).raw=ae,$o.geo.albers=function(){return $o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},$o.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t(r(i,o),t)u(i,o),t}var t,e,r,u,i=$o.geo.albers(),o=$o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=$o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={pointfunction(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])t,u=(n[1]-e[1])t;return(u=.12&&.234u&&r=-.425&&-.214rou=.166&&.234u&&r=-.214&&-.115rai).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{pointfunction(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},spherefunction(){t.sphere(),e.sphere(),r.sphere()},lineStartfunction(){t.lineStart(),e.lineStart(),r.lineStart()},lineEndfunction(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStartfunction(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEndfunction(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length(i.precision(t),o.precision(t),a.precision(t),n)i.precision()},n.scale=function(t){return arguments.length(i.scale(t),o.scale(.35t),a.scale(t),n.translate(i.translate()))i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var s=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455s,f-.238s],[l+.455s,f+.238s]]).stream(c).point,r=o.translate([l-.307s,f+.201s]).clipExtent([[l-.425s+Ca,f+.12s+Ca],[l-.214s-Ca,f+.234s-Ca]]).stream(c).point,u=a.translate([l-.205s,f+.212s]).clipExtent([[l-.214s+Ca,f+.166s+Ca],[l-.115s-Ca,f+.234s-Ca]]).stream(c).point,n},n.scale(1070)};var Cc,Nc,Lc,Tc,qc,zc,Rc={pointc,lineStartc,lineEndc,polygonStartfunction(){Nc=0,Rc.lineStart=ce},polygonEndfunction(){Rc.lineStart=Rc.lineEnd=Rc.point=c,Cc+=aa(Nc2)}},Dc={pointse,lineStartc,lineEndc,polygonStartc,polygonEndc},Pc={pointhe,lineStartge,lineEndpe,polygonStartfunction(){Pc.lineStart=ve},polygonEndfunction(){Pc.point=he,Pc.lineStart=ge,Pc.lineEnd=pe}};$o.geo.path=function(){function n(n){return n&&(function==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid(o=u(i)),$o.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Cc=0,$o.geo.stream(n,u(Rc)),Cc},n.centroid=function(n){return dc=mc=yc=xc=Mc=_c=bc=wc=Sc=0,$o.geo.stream(n,u(Pc)),Sc[bcSc,wcSc]_c[xc_c,Mc_c]yc[dcyc,mcyc][00,00]},n.bounds=function(n){return qc=zc=-(Lc=Tc=10),$o.geo.stream(n,u(Dc)),[[Lc,Tc],[qc,zc]]},n.projection=function(n){return arguments.length(u=(e=n)n.streamye(n)vt,t())e},n.context=function(n){return arguments.length(i=null==(r=n)new lenew de(n),function!=typeof a&&i.pointRadius(a),t())r},n.pointRadius=function(t){return arguments.length(a=function==typeof tt(i.pointRadius(+t),+t),n)a},n.projection($o.geo.albersUsa()).context(null)},$o.geo.transform=function(n){return{streamfunction(t){var e=new xe(t);for(var r in n)e[r]=n[r];return e}}},xe.prototype={pointfunction(n,t){this.stream.point(n,t)},spherefunction(){this.stream.sphere()},lineStartfunction(){this.stream.lineStart()
},lineEndfunction(){this.stream.lineEnd()},polygonStartfunction(){this.stream.polygonStart()},polygonEndfunction(){this.stream.polygonEnd()}},$o.geo.projection=_e,$o.geo.projectionMutator=be,($o.geo.equirectangular=function(){return _e(Se)}).raw=Se.invert=Se,$o.geo.rotation=function(n){function t(t){return t=n(t[0]La,t[1]La),t[0]=Ta,t[1]=Ta,t}return n=Ee(n[0]%360La,n[1]La,n.length2n[2]La0),t.invert=function(t){return t=n.invert(t[0]La,t[1]La),t[0]=Ta,t[1]=Ta,t},t},ke.invert=Se,$o.geo.circle=function(){function n(){var n=function==typeof rr.apply(this,arguments)r,t=Ee(-n[0]La,-n[1]La,0).invert,u=[];return e(null,null,1,{pointfunction(n,e){u.push(n=t(n,e)),n[0]=Ta,n[1]=Ta}}),{typePolygon,coordinates[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length(r=t,n)r},n.angle=function(r){return arguments.length(e=Le((t=+r)La,uLa),n)t},n.precision=function(r){return arguments.length(e=Le(tLa,(u=+r)La),n)u},n.angle(90)},$o.geo.distance=function(n,t){var e,r=(t[0]-n[0])La,u=n[1]La,i=t[1]La,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),s=Math.cos(u),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=fo)e+(e=sl-cfa)e),cl+sfa)},$o.geo.graticule=function(){function n(){return{typeMultiLineString,coordinatest()}}function t(){return $o.range(Math.ceil(id)d,u,d).map(h).concat($o.range(Math.ceil(sm)m,c,m).map(g)).concat($o.range(Math.ceil(rp)p,e,p).filter(function(n){return aa(n%d)Ca}).map(l)).concat($o.range(Math.ceil(av)v,o,v).filter(function(n){return aa(n%m)Ca}).map(f))}var e,r,u,i,o,a,c,s,l,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{typeLineString,coordinatesn}})},n.outline=function(){return{typePolygon,coordinates[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(s).reverse().slice(1))]}},n.extent=function(t){return arguments.lengthn.majorExtent(t).minorExtent(t)n.minorExtent()},n.majorExtent=function(t){return arguments.length(i=+t[0][0],u=+t[1][0],s=+t[0][1],c=+t[1][1],iu&&(t=i,i=u,u=t),sc&&(t=s,s=c,c=t),n.precision(y))[[i,s],[u,c]]},n.minorExtent=function(t){return arguments.length(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],re&&(t=r,r=e,e=t),ao&&(t=a,a=o,o=t),n.precision(y))[[r,a],[e,o]]},n.step=function(t){return arguments.lengthn.majorStep(t).minorStep(t)n.minorStep()},n.majorStep=function(t){return arguments.length(d=+t[0],m=+t[1],n)[d,m]},n.minorStep=function(t){return arguments.length(p=+t[0],v=+t[1],n)[p,v]},n.precision=function(t){return arguments.length(y=+t,l=qe(a,o,90),f=ze(r,e,y),h=qe(s,c,90),g=ze(i,u,y),n)y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},$o.geo.greatArc=function(){function n(){return{typeLineString,coordinates[tr.apply(this,arguments),eu.apply(this,arguments)]}}var t,e,r=Re,u=De;return n.distance=function(){return $o.geo.distance(tr.apply(this,arguments),eu.apply(this,arguments))},n.source=function(e){return arguments.length(r=e,t=function==typeof enulle,n)r},n.target=function(t){return arguments.length(u=t,e=function==typeof tnullt,n)u},n.precision=function(){return arguments.lengthn0},n},$o.geo.interpolate=function(n,t){return Pe(n[0]La,n[1]La,t[0]La,t[1]La)},$o.geo.length=function(n){return Uc=0,$o.geo.stream(n,jc),Uc};var Uc,jc={spherec,pointc,lineStartUe,lineEndc,polygonStartc,polygonEndc},Hc=je(function(n){return Math.sqrt(2(1+n))},function(n){return 2Math.asin(n2)});($o.geo.azimuthalEqualArea=function(){return _e(Hc)}).raw=Hc;var Fc=je(function(n){var t=Math.acos(n);return t&&tMath.sin(t)},vt);($o.geo.azimuthalEquidistant=function(){return _e(Fc)}).raw=Fc,($o.geo.conicConformal=function(){return oe(He)}).raw=He,($o.geo.conicEquidistant=function(){return oe(Fe)}).raw=Fe;var Oc=je(function(n){return 1n},Math.atan);($o.geo.gnomonic=function(){return _e(Oc)}).raw=Oc,Oe.invert=function(n,t){return[n,2Math.atan(Math.exp(t))-Aa]},($o.geo.mercator=function(){return Ye(Oe)}).raw=Oe;var Yc=je(function(){return 1},Math.asin);($o.geo.orthographic=function(){return _e(Yc)}).raw=Yc;var Ic=je(function(n){return 1(1+n)},function(n){return 2Math.atan(n)});($o.geo.stereographic=function(){return _e(Ic)}).raw=Ic,Ie.invert=function(n,t){return[Math.atan2(F(n),Math.cos(t)),H(Math.sin(t)O(n))]},($o.geo.transverseMercator=function(){return Ye(Ie)}).raw=Ie,$o.geom={},$o.geom.hull=function(n){function t(n){if(n.length3)return[];var t,u,i,o,a,c,s,l,f,h,g,p,v=pt(e),d=pt(r),m=n.length,y=m-1,x=[],M=[],_=0;if(v===Ze&&r===Ve)t=n;else for(i=0,t=[];mi;++i)t.push([+v.call(this,u=n[i],i),+d.call(this,u,i)]);for(i=1;mi;++i)(t[i][1]t[_][1]t[i][1]==t[_][1]&&t[i][0]t[_][0])&&(_=i);for(i=0;mi;++i)i!==_&&(c=t[i][1]-t[_][1],a=t[i][0]-t[_][0],x.push({angleMath.atan2(c,a),indexi}));for(x.sort(function(n,t){return n.angle-t.angle}),g=x[0].angle,h=x[0].index,f=0,i=1;yi;++i){if(o=x[i].index,g==x[i].angle){if(a=t[h][0]-t[_][0],c=t[h][1]-t[_][1],s=t[o][0]-t[_][0],l=t[o][1]-t[_][1],aa+cc=ss+ll){x[i].index=-1;continue}x[f].index=-1}g=x[i].angle,f=i,h=o}for(M.push(_),i=0,o=0;2i;++o)x[o].index-1&&(M.push(x[o].index),i++);for(p=M.length;yo;++o)if(!(x[o].index0)){for(;!Xe(M[p-2],M[p-1],x[o].index,t);)--p;M[p++]=x[o].index}var b=[];for(i=p-1;i=0;--i)b.push(n[M[i]]);return b}var e=Ze,r=Ve;return arguments.lengtht(n)(t.x=function(n){return arguments.length(e=n,t)e},t.y=function(n){return arguments.length(r=n,t)r},t)},$o.geom.polygon=function(n){return ha(n,Zc),n};var Zc=$o.geom.polygon.prototype=[];Zc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++te;)n=r,r=this[t],u+=n[1]r[0]-n[0]r[1];return.5u},Zc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length(n=-1(6this.area()));++ru;)t=a,a=this[r],e=t[0]a[1]-a[0]t[1],i+=(t[0]+a[0])e,o+=(t[1]+a[1])e;return[in,on]},Zc.clip=function(n){for(var t,e,r,u,i,o,a=We(n),c=-1,s=this.length-We(this),l=this[s-1];++cs;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++er;)o=t[e],$e(o,l,u)($e(i,l,u)n.push(Be(i,o,l,u)),n.push(o))$e(i,l,u)&&n.push(Be(i,o,l,u)),i=o;a&&n.push(n[0]),l=u}return n};var Vc,Xc,$c,Bc,Wc,Jc=[],Gc=[];rr.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.at.splice(e,1);return t.sort(ir),t.length},vr.prototype={startfunction(){return this.edge.l===this.sitethis.edge.athis.edge.b},endfunction(){return this.edge.l===this.sitethis.edge.bthis.edge.a}},dr.prototype={insertfunction(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._(n=Mr(this._),t.P=null,t.N=n,n.P=n.L=t,e=n)(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L(u=r.R,u&&u.C(e.C=u.C=!1,r.C=!0,n=r)(n===e.R&&(yr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,xr(this,r)))(u=r.L,u&&u.C(e.C=u.C=!1,r.C=!0,n=r)(n===e.L&&(xr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,yr(this,r))),e=n.U;this._.C=!1},removefunction(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=ioMr(o)io,uu.L===nu.L=eu.R=ethis._=e,i&&o(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e)(e.U=u,u=e,n=e.R))(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return n.C=!1,void 0;do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,yr(this,u),t=u.R),t.L&&t.L.Ct.R&&t.R.C){t.R&&t.R.C(t.L.C=!1,t.C=!0,xr(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,yr(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,xr(this,u),t=u.L),t.L&&t.L.Ct.R&&t.R.C){t.L&&t.L.C(t.R.C=!1,t.C=!0,yr(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,xr(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},$o.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return _r(e(n),a).cells.forEach(function(e,a){var c=e.edges,s=e.site,l=t[a]=c.lengthc.map(function(n){var t=n.start();return[t.x,t.y]})s.x=r&&s.x=i&&s.y=u&&s.y=o[[r,o],[i,o],[i,u],[r,u]][];l.point=n[a]}),t}function e(n){return n.map(function(n,t){return{xMath.round(i(n,t)Ca)Ca,yMath.round(o(n,t)Ca)Ca,it}})}var r=Ze,u=Ve,i=r,o=u,a=Kc;return nt(n)(t.links=function(n){return _r(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{sourcen[t.l.i],targetn[t.r.i]}})},t.triangles=function(n){var t=[];return _r(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(ir),c=-1,s=a.length,l=a[s-1].edge,f=l.l===ol.rl.l;++cs;)u=l,i=f,l=a[c].edge,f=l.l===ol.rl.l,ri.i&&rf.i&&wr(o,i,f)0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length(i=pt(r=n),t)r},t.y=function(n){return arguments.length(o=pt(u=n),t)u},t.clipExtent=function(n){return arguments.length(a=null==nKcn,t)a===Kcnulla},t.size=function(n){return arguments.lengtht.clipExtent(n&&[[0,0],n])a===Kcnulla&&a[1]},t)};var Kc=[[-1e6,-1e6],[1e6,1e6]];$o.geom.delaunay=function(n){return $o.geom.voronoi().triangles(n)},$o.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,l=n.y;if(null!=c)if(aa(c-e)+aa(l-r).01)s(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,s(n,f,c,l,u,i,o,a),s(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else s(n,t,e,r,u,i,o,a)}function s(n,t,e,r,u,o,a,c){var s=.5(u+a),l=.5(o+c),f=e=s,h=r=l,g=(h1)+f;n.leaf=!1,n=n.nodes[g](n.nodes[g]=Er()),fu=sa=s,ho=lc=l,i(n,t,e,r,u,o,a,c)}var l,f,h,g,p,v,d,m,y,x=pt(a),M=pt(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=10),f=[],h=[],p=n.length,o)for(g=0;pg;++g)l=n[g],l.xv&&(v=l.x),l.yd&&(d=l.y),l.xm&&(m=l.x),l.yy&&(y=l.y),f.push(l.x),h.push(l.y);else for(g=0;pg;++g){var _=+x(l=n[g],g),b=+M(l,g);v_&&(v=_),db&&(d=b),_m&&(m=_),by&&(y=b),f.push(_),h.push(b)}var w=m-v,S=y-d;wSy=d+wm=v+S;var k=Er();if(k.add=function(n){i(k,n,+x(n,++g),+M(n,g),v,d,m,y)},k.visit=function(n){Ar(n,k,v,d,m,y)},g=-1,null==t){for(;++gp;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=l=null,k}var o,a=Ze,c=Ve;return(o=arguments.length)(a=Sr,c=kr,3===o&&(u=e,r=t,e=t=0),i(n))(i.x=function(n){return arguments.length(a=n,i)a},i.y=function(n){return arguments.length(c=n,i)c},i.extent=function(n){return arguments.length(null==nt=e=r=u=null(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i)null==tnull[[t,e],[r,u]]},i.size=function(n){return arguments.length(null==nt=e=r=u=null(t=e=0,r=+n[0],u=+n[1]),i)null==tnull[r-t,u-e]},i)},$o.interpolateRgb=Cr,$o.interpolateObject=Nr,$o.interpolateNumber=Lr,$o.interpolateString=Tr;var Qc=[-+](d+.d.d+)([eE][-+]d+)g;$o.interpolate=qr,$o.interpolators=[function(n,t){var e=typeof t;return(string===eXa.has(t)^(#rgb(hsl().test(t)CrTrt instanceof ZCrobject===eArray.isArray(t)zrNrLr)(n,t)}],$o.interpolateArray=zr;var ns=function(){return vt},ts=$o.map({linearns,polyFr,quadfunction(){return Ur},cubicfunction(){return jr},sinfunction(){return Or},expfunction(){return Yr},circlefunction(){return Ir},elasticZr,backVr,bouncefunction(){return Xr}}),es=$o.map({invt,outDr,in-outPr,out-infunction(n){return Pr(Dr(n))}});$o.ease=function(n){var t=n.indexOf(-),e=t=0n.substring(0,t)n,r=t=0n.substring(t+1)in;return e=ts.get(e)ns,r=es.get(r)vt,Rr(r(e.apply(null,Bo.call(arguments,1))))},$o.interpolateHcl=$r,$o.interpolateHsl=Br,$o.interpolateLab=Wr,$o.interpolateRound=Jr,$o.transform=function(n){var t=Jo.createElementNS($o.ns.prefix.svg,g);return($o.transform=function(n){if(null!=n){t.setAttribute(transform,n);var e=t.transform.baseVal.consolidate()}return new Gr(ee.matrixrs)})(n)},Gr.prototype.toString=function(){returntranslate(+this.translate+)rotate(+this.rotate+)skewX(+this.skew+)scale(+this.scale+)};var rs={a1,b0,c0,d1,e0,f0};$o.interpolateTransform=tu,$o.layout={},$o.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++er;)t.push(uu(n[e]));return t}},$o.layout.chord=function(){function n(){var n,s,f,h,g,p={},v=[],d=$o.range(i),m=[];for(e=[],r=[],n=0,h=-1;++hi;){for(s=0,g=-1;++gi;)s+=u[h][g];v.push(s),m.push($o.range(i)),n+=s}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(Ea-li)n,s=0,h=-1;++hi;){for(f=s,g=-1;++gi;){var y=d[h],x=m[y][g],M=u[y][x],_=s,b=s+=Mn;p[y+-+x]={indexy,subindexx,startAngle_,endAngleb,valueM}}r[y]={indexy,startAnglef,endAngles,value(s-f)n},s+=l}for(h=-1;++hi;)for(g=h-1;++gi;){var w=p[h+-+g],S=p[g+-+h];(w.valueS.value)&&e.push(w.valueS.value{sourceS,targetw}{sourcew,targetS})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)2,(t.source.value+t.target.value)2)})}var e,r,u,i,o,a,c,s={},l=0;return s.matrix=function(n){return arguments.length(i=(u=n)&&u.length,e=r=null,s)u},s.padding=function(n){return arguments.length(l=n,e=r=null,s)l},s.sortGroups=function(n){return arguments.length(o=n,e=r=null,s)o},s.sortSubgroups=function(n){return arguments.length(a=n,e=null,s)a},s.sortChords=function(n){return arguments.length(c=n,e&&t(),s)c},s.chords=function(){return en(),e},s.groups=function(){return rn(),r},s},$o.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=1Math.sqrt(ii+oo);if(v(u-e)a){var c=t.chargeaa;return n.px-=ic,n.py-=oc,!0}if(t.point&&isFinite(a)){var c=t.pointChargeaa;n.px-=ic,n.py-=oc}}return!t.charge}}function t(n){n.px=$o.event.x,n.py=$o.event.y,a.resume()}var e,r,u,i,o,a={},c=$o.dispatch(start,tick,end),s=[1,1],l=.9,f=us,h=is,g=-30,p=.1,v=.8,d=[],m=[];return a.tick=function(){if((r=.99).005)return c.end({typeend,alphar=0}),!0;var t,e,a,f,h,v,y,x,M,_=d.length,b=m.length;for(e=0;be;++e)a=m[e],f=a.source,h=a.target,x=h.x-f.x,M=h.y-f.y,(v=xx+MM)&&(v=ri[e]((v=Math.sqrt(v))-u[e])v,x=v,M=v,h.x-=x(y=f.weight(h.weight+f.weight)),h.y-=My,f.x+=x(y=1-y),f.y+=My);if((y=rp)&&(x=s[0]2,M=s[1]2,e=-1,y))for(;++e_;)a=d[e],a.x+=(x-a.x)y,a.y+=(M-a.y)y;if(g)for(fu(t=$o.geom.quadtree(d),r,o),e=-1;++e_;)(a=d[e]).fixedt.visit(n(a));for(e=-1;++e_;)a=d[e],a.fixed(a.x=a.px,a.y=a.py)(a.x-=(a.px-(a.px=a.x))l,a.y-=(a.py-(a.py=a.y))l);c.tick({typetick,alphar})},a.nodes=function(n){return arguments.length(d=n,a)d},a.links=function(n){return arguments.length(m=n,a)m},a.size=function(n){return arguments.length(s=n,a)s},a.linkDistance=function(n){return arguments.length(f=function==typeof nn+n,a)f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length(h=function==typeof nn+n,a)h},a.friction=function(n){return arguments.length(l=+n,a)l},a.charge=function(n){return arguments.length(g=function==typeof nn+n,a)g},a.gravity=function(n){return arguments.length(p=+n,a)p},a.theta=function(n){return arguments.length(v=+n,a)v},a.alpha=function(n){return arguments.length(n=+n,rr=n0n0n0&&(c.start({typestart,alphar=n}),$o.timer(a.tick)),a)r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;ca;++a)e[a]=[];for(a=0;sa;++a){var u=m[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,s=o.length;++as;)if(!isNaN(i=o[a][n]))return i;return Math.random()r}var t,e,r,c=d.length,l=m.length,p=s[0],v=s[1];for(t=0;ct;++t)(r=d[t]).index=t,r.weight=0;for(t=0;lt;++t)r=m[t],number==typeof r.source&&(r.source=d[r.source]),number==typeof r.target&&(r.target=d[r.target]),++r.source.weight,++r.target.weight;for(t=0;ct;++t)r=d[t],isNaN(r.x)&&(r.x=n(x,p)),isNaN(r.y)&&(r.y=n(y,v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],function==typeof f)for(t=0;lt;++t)u[t]=+f.call(this,m[t],t);else for(t=0;lt;++t)u[t]=f;if(i=[],function==typeof h)for(t=0;lt;++t)i[t]=+h.call(this,m[t],t);else for(t=0;lt;++t)i[t]=h;if(o=[],function==typeof g)for(t=0;ct;++t)o[t]=+g.call(this,d[t],t);else for(t=0;ct;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e(e=$o.behavior.drag().origin(vt).on(dragstart.force,au).on(drag.force,t).on(dragend.force,cu)),arguments.length(this.on(mouseover.force,su).on(mouseout.force,lu).call(e),void 0)e},$o.rebind(a,c,on)};var us=20,is=1;$o.layout.hierarchy=function(){function n(t,o,a){var c=u.call(e,t,o);if(t.depth=o,a.push(t),c&&(s=c.length)){for(var s,l,f=-1,h=t.children=new Array(s),g=0,p=o+1;++fs;)l=h[f]=n(c[f],p,a),l.parent=t,g+=l.value;r&&h.sort(r),i&&(t.value=g)}else delete t.children,i&&(t.value=+i.call(e,t,o)0);return t}function t(n,r){var u=n.children,o=0;if(u&&(a=u.length))for(var a,c=-1,s=r+1;++ca;)o+=t(u[c],s);else i&&(o=+i.call(e,n,r)0);return i&&(n.value=o),o}function e(t){var e=[];return n(t,0,e),e}var r=vu,u=gu,i=pu;return e.sort=function(n){return arguments.length(r=n,e)r},e.children=function(n){return arguments.length(u=n,e)u},e.value=function(n){return arguments.length(i=n,e)i},e.revalue=function(n){return t(n,0),n},e},$o.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depthu,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,s=-1;for(r=t.valuert.value0;++so;)n(a=i[s],e,c=a.valuer,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++iu;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]t(o[0])),o}var r=$o.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length(u=n,e)u},hu(e,r)},$o.layout.pie=function(){function n(i){var o=i.map(function(e,r){return+t.call(n,e,r)}),a=+(function==typeof rr.apply(this,arguments)r),c=((function==typeof uu.apply(this,arguments)u)-a)$o.sum(o),s=$o.range(i.length);null!=e&&s.sort(e===osfunction(n,t){return o[t]-o[n]}function(n,t){return e(i[n],i[t])});var l=[];return s.forEach(function(n){var t;l[n]={datai[n],valuet=o[n],startAnglea,endAnglea+=tc}}),l}var t=Number,e=os,r=0,u=Ea;return n.value=function(e){return arguments.length(t=e,n)t},n.sort=function(t){return arguments.length(e=t,n)e},n.startAngle=function(t){return arguments.length(r=t,n)r},n.endAngle=function(t){return arguments.length(u=t,n)u},n};var os={};$o.layout.stack=function(){function n(a,c){var s=a.map(function(e,r){return t.call(n,e,r)}),l=s.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,l,c);s=$o.permute(s,f),l=$o.permute(l,f);var h,g,p,v=r.call(n,l,c),d=s.length,m=s[0].length;for(g=0;mg;++g)for(u.call(n,s[0][g],p=v[g],l[0][g][1]),h=1;dh;++h)u.call(n,s[h][g],p+=l[h-1][g][1],l[h][g][1]);return a}var t=vt,e=Mu,r=_u,u=xu,i=mu,o=yu;return n.values=function(e){return arguments.length(t=e,n)t},n.order=function(t){return arguments.length(e=function==typeof ttas.get(t)Mu,n)e},n.offset=function(t){return arguments.length(r=function==typeof ttcs.get(t)_u,n)r},n.x=function(t){return arguments.length(i=t,n)i},n.y=function(t){return arguments.length(o=t,n)o},n.out=function(t){return arguments.length(u=t,n)u},n};var as=$o.map({inside-outfunction(n){var t,e,r=n.length,u=n.map(bu),i=n.map(wu),o=$o.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,s=[],l=[];for(t=0;rt;++t)e=o[t],ca(a+=i[e],s.push(e))(c+=i[e],l.push(e));return l.reverse().concat(s)},reversefunction(n){return $o.range(n.length).reverse()},defaultMu}),cs=$o.map({silhouettefunction(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;ie;++e){for(t=0,r=0;ut;t++)r+=n[t][e][1];ra&&(a=r),o.push(r)}for(e=0;ie;++e)c[e]=(a-o[e])2;return c},wigglefunction(n){var t,e,r,u,i,o,a,c,s,l=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=s=0,e=1;he;++e){for(t=0,u=0;lt;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];lt;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])(2a);tr;++r)o+=(n[r][e][1]-n[r][e-1][1])a;i+=on[t][e][1]}g[e]=c-=uiua0,sc&&(s=c)}for(e=0;he;++e)g[e]-=s;return g},expandfunction(n){var t,e,r,u=n.length,i=n[0].length,o=1u,a=[];for(e=0;ie;++e){for(t=0,r=0;ut;t++)r+=n[t][e][1];if(r)for(t=0;ut;t++)n[t][e][1]=r;else for(t=0;ut;t++)n[t][e][1]=o}for(e=0;ie;++e)a[e]=0;return a},zero_u});$o.layout.histogram=function(){function n(n,i){for(var o,a,c=[],s=n.map(e,this),l=r.call(this,s,i),f=u.call(this,l,s,i),i=-1,h=s.length,g=f.length-1,p=t11h;++ig;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g0)for(i=-1;++ih;)a=s[i],a=l[0]&&a=l[1]&&(o=c[$o.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=Au,u=ku;return n.value=function(t){return arguments.length(e=t,n)e},n.range=function(t){return arguments.length(r=pt(t),n)r},n.bins=function(t){return arguments.length(u=number==typeof tfunction(n){return Eu(n,t)}pt(t),n)u},n.frequency=function(e){return arguments.length(t=!!e,n)t},n},$o.layout.tree=function(){function n(n,i){function o(n,t){var r=n.children,u=n._tree;if(r&&(i=r.length)){for(var i,a,s,l=r[0],f=l,h=-1;++hi;)s=r[h],o(s,a),f=c(s,a,f),a=s;Pu(n);var g=.5(l._tree.prelim+s._tree.prelim);t(u.prelim=t._tree.prelim+e(n,t),u.mod=u.prelim-g)u.prelim=g}else t&&(u.prelim=t._tree.prelim+e(n,t))}function a(n,t){n.x=n._tree.prelim+t;var e=n.children;if(e&&(r=e.length)){var r,u=-1;for(t+=n._tree.mod;++ur;)a(e[u],t)}}function c(n,t,r){if(t){for(var u,i=n,o=n,a=t,c=n.parent.children[0],s=i._tree.mod,l=o._tree.mod,f=a._tree.mod,h=c._tree.mod;a=Lu(a),i=Nu(i),a&&i;)c=Nu(c),o=Lu(o),o._tree.ancestor=n,u=a._tree.prelim+f-i._tree.prelim-s+e(a,i),u0&&(Uu(ju(a,n,r),n,u),s+=u,l+=u),f+=a._tree.mod,s+=i._tree.mod,h+=c._tree.mod,l+=o._tree.mod;a&&!Lu(o)&&(o._tree.thread=a,o._tree.mod+=f-l),i&&!Nu(c)&&(c._tree.thread=i,c._tree.mod+=s-h,r=n)}return r}var s=t.call(this,n,i),l=s[0];Du(l,function(n,t){n._tree={ancestorn,prelim0,mod0,change0,shift0,numbertt._tree.number+10}}),o(l),a(l,-l._tree.prelim);var f=Tu(l,zu),h=Tu(l,qu),g=Tu(l,Ru),p=f.x-e(f,h)2,v=h.x+e(h,f)2,d=g.depth1;return Du(l,ufunction(n){n.x=r[0],n.y=n.depthr[1],delete n._tree}function(n){n.x=(n.x-p)(v-p)r[0],n.y=n.depthdr[1],delete n._tree}),s}var t=$o.layout.hierarchy().sort(null).value(null),e=Cu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length(e=t,n)e},n.size=function(t){return arguments.length(u=null==(r=t),n)unullr},n.nodeSize=function(t){return arguments.length(u=null!=(r=t),n)urnull},hu(n,t)},$o.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],s=u[1],l=null==tMath.sqrtfunction==typeof ttfunction(){return t};if(a.x=a.y=0,Du(a,function(n){n.r=+l(n.value)}),Du(a,Iu),r){var f=r(t1Math.max(2a.rc,2a.rs))2;Du(a,function(n){n.r+=f}),Du(a,Iu),Du(a,function(n){n.r-=f})}return Xu(a,c2,s2,t11Math.max(2a.rc,2a.rs)),o}var t,e=$o.layout.hierarchy().sort(Hu),r=0,u=[1,1];return n.size=function(t){return arguments.length(u=t,n)u},n.radius=function(e){return arguments.length(t=null==efunction==typeof ee+e,n)t},n.padding=function(t){return arguments.length(r=+t,n)r},hu(n,e)},$o.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],s=0;Du(c,function(n){var t=n.children;t&&t.length(n.x=Wu(t),n.y=Bu(t))(n.x=os+=e(n,o)0,n.y=0,o=n)});var l=Ju(c),f=Gu(c),h=l.x-e(l,f)2,g=f.x+e(f,l)2;return Du(c,ufunction(n){n.x=(n.x-c.x)r[0],n.y=(c.y-n.y)r[1]}function(n){n.x=(n.x-h)(g-h)r[0],n.y=(1-(c.yn.yc.y1))r[1]}),a}var t=$o.layout.hierarchy().sort(null).value(null),e=Cu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length(e=t,n)e},n.size=function(t){return arguments.length(u=null==(r=t),n)unullr},n.nodeSize=function(t){return arguments.length(u=null!=(r=t),n)urnull},hu(n,t)},$o.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++ui;)r=(e=n[u]).value(0t0t),e.area=isNaN(r)0=r0r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,s=f(e),l=[],h=i.slice(),p=10,v=slice===gs.dxdice===gs.dyslice-dice===g1&e.depths.dys.dxMath.min(s.dx,s.dy);for(n(h,s.dxs.dye.value),l.area=0;(c=h.length)0;)l.push(o=h[c-1]),l.area+=o.area,squarify!==g(a=r(l,v))=p(h.pop(),p=a)(l.area-=l.pop().area,u(l,v,s,!1),v=Math.min(s.dx,s.dy),l.length=l.area=0,p=10);l.length&&(u(l,v,s,!0),l.length=l.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dxo.dyt.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.zo.dxo.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=10,o=-1,a=n.length;++oa;)(e=n[o].area)&&(ie&&(i=e),eu&&(u=e));return r=r,t=t,rMath.max(tupr,r(tip))10}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,s=e.y,l=tc(n.areat)0;if(t==e.dx){for((rle.dy)&&(l=e.dy);++io;)u=n[i],u.x=a,u.y=s,u.dy=l,a+=u.dx=Math.min(e.x+e.dx-a,lc(u.areal)0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((rle.dx)&&(l=e.dx);++io;)u=n[i],u.x=a,u.y=s,u.dx=l,s+=u.dy=Math.min(e.y+e.dy-s,lc(u.areal)0);u.z=!1,u.dy+=e.y+e.dy-s,e.x+=l,e.dx-=l}}function i(r){var u=oa(r),i=u[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&&a.revalue(i),n([i],i.dxi.dyi.value),(oet)(i),h&&(o=u),u}var o,a=$o.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=Ku,h=!1,g=squarify,p=.5(1+Math.sqrt(5));return i.size=function(n){return arguments.length(s=n,i)s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==eKu(t)Qu(t,number==typeof e[e,e,e,e]e)}function e(t){return Qu(t,n)}if(!arguments.length)return l;var r;return f=null==(l=n)Kufunction==(r=typeof n)tnumber===r(n=[n,n,n,n],e)e,i},i.round=function(n){return arguments.length(c=nMath.roundNumber,i)c!=Number},i.sticky=function(n){return arguments.length(h=n,o=null,i)h},i.ratio=function(n){return arguments.length(p=n,i)p},i.mode=function(n){return arguments.length(g=n+,i)g},hu(i,a)},$o.random={normalfunction(n,t){var e=arguments.length;return 2e&&(t=1),1e&&(n=0),function(){var e,r,u;do e=2Math.random()-1,r=2Math.random()-1,u=ee+rr;while(!uu1);return n+teMath.sqrt(-2Math.log(u)u)}},logNormalfunction(){var n=$o.random.normal.apply($o,arguments);return function(){return Math.exp(n())}},irwinHallfunction(n){return function(){for(var t=0,e=0;ne;e++)t+=Math.random();return tn}}},$o.scale={};var ss={floorvt,ceilvt};$o.scale.linear=function(){return oi([0,1],[0,1],qr,!1)};var ls={s1,g1,p1,r1,e1};$o.scale.log=function(){return pi($o.scale.linear().domain([0,1]),10,!0,[1,10])};var fs=$o.format(.0e),hs={floorfunction(n){return-Math.ceil(-n)},ceilfunction(n){return-Math.floor(-n)}};$o.scale.pow=function(){return vi($o.scale.linear(),1,[0,1])},$o.scale.sqrt=function(){return $o.scale.pow().exponent(.5)},$o.scale.ordinal=function(){return mi([],{trange,a[[]]})},$o.scale.category10=function(){return $o.scale.ordinal().range(gs)},$o.scale.category20=function(){return $o.scale.ordinal().range(ps)},$o.scale.category20b=function(){return $o.scale.ordinal().range(vs)},$o.scale.category20c=function(){return $o.scale.ordinal().range(ds)};var gs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(it),ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(it),vs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(it),ds=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(it);$o.scale.quantile=function(){return yi([],[])},$o.scale.quantize=function(){return xi(0,1,[0,1])},$o.scale.threshold=function(){return Mi([.5],[0,1])},$o.scale.identity=function(){return _i([0,1])},$o.svg={},$o.svg.arc=function(){function n(){var n=t.apply(this,arguments),i=e.apply(this,arguments),o=r.apply(this,arguments)+ms,a=u.apply(this,arguments)+ms,c=(oa&&(c=o,o=a,a=c),a-o),s=kac01,l=Math.cos(o),f=Math.sin(o),h=Math.cos(a),g=Math.sin(a);return c=ysnM0,+i+A+i+,+i+ 0 1,1 0,+-i+A+i+,+i+ 0 1,1 0,+i+M0,+n+A+n+,+n+ 0 1,0 0,+-n+A+n+,+n+ 0 1,0 0,+n+ZM0,+i+A+i+,+i+ 0 1,1 0,+-i+A+i+,+i+ 0 1,1 0,+i+ZnM+il+,+if+A+i+,+i+ 0 +s+,1 +ih+,+ig+L+nh+,+ng+A+n+,+n+ 0 +s+,0 +nl+,+nf+ZM+il+,+if+A+i+,+i+ 0 +s+,1 +ih+,+ig+L0,0+Z}var t=bi,e=wi,r=Si,u=ki;return n.innerRadius=function(e){return arguments.length(t=pt(e),n)t},n.outerRadius=function(t){return arguments.length(e=pt(t),n)e},n.startAngle=function(t){return arguments.length(r=pt(t),n)r},n.endAngle=function(t){return arguments.length(u=pt(t),n)u},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))2,i=(r.apply(this,arguments)+u.apply(this,arguments))2+ms;return[Math.cos(i)n,Math.sin(i)n]},n};var ms=-Aa,ys=Ea-Ca;$o.svg.line=function(){return Ei(vt)};var xs=$o.map({linearAi,linear-closedCi,stepNi,step-beforeLi,step-afterTi,basisUi,basis-openji,basis-closedHi,bundleFi,cardinalRi,cardinal-openqi,cardinal-closedzi,monotoneXi});xs.forEach(function(n,t){t.key=n,t.closed=-closed$.test(n)});var Ms=[0,23,13,0],_s=[0,13,23,0],bs=[0,16,23,16];$o.svg.line.radial=function(){var n=Ei($i);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},Li.reverse=Ti,Ti.reverse=Li,$o.svg.area=function(){return Bi(vt)},$o.svg.area.radial=function(){var n=Bi($i);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},$o.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),s=t(this,o,n,a);returnM+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,s)u(c.r,c.p1,c.r,c.p0)u(c.r,c.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,c.r,c.p0))+Z}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)+ms,l=s.call(n,u,r)+ms;return{ri,a0o,a1l,p0[iMath.cos(o),iMath.sin(o)],p1[iMath.cos(l),iMath.sin(l)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){returnA+n+,+n+ 0 + +(eka)+,1 +t}function u(n,t,e,r){returnQ 0,0 +r}var i=Re,o=De,a=Wi,c=Si,s=ki;return n.radius=function(t){return arguments.length(a=pt(t),n)a},n.source=function(t){return arguments.length(i=pt(t),n)i},n.target=function(t){return arguments.length(o=pt(t),n)o},n.startAngle=function(t){return arguments.length(c=pt(t),n)c},n.endAngle=function(t){return arguments.length(s=pt(t),n)s},n},$o.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)2,c=[i,{xi.x,ya},{xo.x,ya},o];return c=c.map(r),M+c[0]+C+c[1]+ +c[2]+ +c[3]}var t=Re,e=De,r=Ji;return n.source=function(e){return arguments.length(t=pt(e),n)t},n.target=function(t){return arguments.length(e=pt(t),n)e},n.projection=function(t){return arguments.length(r=t,n)r},n},$o.svg.diagonal.radial=function(){var n=$o.svg.diagonal(),t=Ji,e=n.projection;return n.projection=function(n){return arguments.lengthe(Gi(t=n))t},n},$o.svg.symbol=function(){function n(n,r){return(ws.get(t.call(this,n,r))no)(e.call(this,n,r))}var t=Qi,e=Ki;return n.type=function(e){return arguments.length(t=pt(e),n)t},n.size=function(t){return arguments.length(e=pt(t),n)e},n};var ws=$o.map({circleno,crossfunction(n){var t=Math.sqrt(n5)2;returnM+-3t+,+-t+H+-t+V+-3t+H+t+V+-t+H+3t+V+t+H+t+V+3t+H+-t+V+t+H+-3t+Z},diamondfunction(n){var t=Math.sqrt(n(2As)),e=tAs;returnM0,+-t+L+e+,0+ 0,+t+ +-e+,0+Z},squarefunction(n){var t=Math.sqrt(n)2;returnM+-t+,+-t+L+t+,+-t+ +t+,+t+ +-t+,+t+Z},triangle-downfunction(n){var t=Math.sqrt(nEs),e=tEs2;returnM0,+e+L+t+,+-e+ +-t+,+-e+Z},triangle-upfunction(n){var t=Math.sqrt(nEs),e=tEs2;returnM0,+-e+L+t+,+e+ +-t+,+e+Z}});$o.svg.symbolTypes=ws.keys();var Ss,ks,Es=Math.sqrt(3),As=Math.tan(30La),Cs=[],Ns=0;
Cs.call=ma.call,Cs.empty=ma.empty,Cs.node=ma.node,Cs.size=ma.size,$o.transition=function(n){return arguments.lengthSsn.transition()nMa.transition()},$o.transition.prototype=Cs,Cs.select=function(n){var t,e,r,u=this.id,i=[];n=v(n);for(var o=-1,a=this.length;++oa;){i.push(t=[]);for(var c=this[o],s=-1,l=c.length;++sl;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))(__data__in r&&(e.__data__=r.__data__),uo(e,s,u,r.__transition__[u]),t.push(e))t.push(null)}return to(i,u)},Cs.selectAll=function(n){var t,e,r,u,i,o=this.id,a=[];n=d(n);for(var c=-1,s=this.length;++cs;)for(var l=this[c],f=-1,h=l.length;++fh;)if(r=l[f]){i=r.__transition__[o],e=n.call(r,r.__data__,f,c),a.push(t=[]);for(var g=-1,p=e.length;++gp;)(u=e[g])&&uo(u,g,o,i),t.push(u)}return to(a,o)},Cs.filter=function(n){var t,e,r,u=[];function!=typeof n&&(n=E(n));for(var i=0,o=this.length;oi;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;ca;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return to(u,this.id)},Cs.tween=function(n,t){var e=this.id;return arguments.length2this.node().__transition__[e].tween.get(n)C(this,null==tfunction(t){t.__transition__[e].tween.remove(n)}function(r){r.__transition__[e].tween.set(n,t)})},Cs.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==ne(n+=,function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==nr(n+=,function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length2){for(t in n)this.attr(t,n[t]);return this}var o=transform==ntuqr,a=$o.ns.qualify(n);return eo(this,attr.+n,t,a.localiu)},Cs.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=$o.ns.qualify(n);return this.tween(attr.+n,u.localre)},Cs.style=function(n,t,e){function r(){this.style.removeProperty(n)}function u(t){return null==tr(t+=,function(){var r,u=Ko.getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(r=qr(u,t),function(t){this.style.setProperty(n,r(t),e)})})}var i=arguments.length;if(3i){if(string!=typeof n){2i&&(t=);for(e in n)this.style(e,n[e],t);return this}e=}return eo(this,style.+n,t,u)},Cs.styleTween=function(n,t,e){function r(r,u){var i=t.call(this,r,u,Ko.getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),e)}}return arguments.length3&&(e=),this.tween(style.+n,r)},Cs.text=function(n){return eo(this,text,n,ro)},Cs.remove=function(){return this.each(end.transition,function(){var n;this.__transition__.count2&&(n=this.parentNode)&&n.removeChild(this)})},Cs.ease=function(n){var t=this.id;return arguments.length1this.node().__transition__[t].ease(function!=typeof n&&(n=$o.ease.apply($o,arguments)),C(this,function(e){e.__transition__[t].ease=n}))},Cs.delay=function(n){var t=this.id;return C(this,function==typeof nfunction(e,r,u){e.__transition__[t].delay=+n.call(e,e.__data__,r,u)}(n=+n,function(e){e.__transition__[t].delay=n}))},Cs.duration=function(n){var t=this.id;return C(this,function==typeof nfunction(e,r,u){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,u))}(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))},Cs.each=function(n,t){var e=this.id;if(arguments.length2){var r=ks,u=Ss;Ss=e,C(this,function(t,r,u){ks=t.__transition__[e],n.call(t,t.__data__,r,u)}),ks=r,Ss=u}else C(this,function(r){var u=r.__transition__[e];(u.event(u.event=$o.dispatch(start,end))).on(n,t)});return this},Cs.transition=function(){for(var n,t,e,r,u=this.id,i=++Ns,o=[],a=0,c=this.length;ca;a++){o.push(n=[]);for(var t=this[a],s=0,l=t.length;ls;s++)(e=t[s])&&(r=Object.create(e.__transition__[u]),r.delay+=r.duration,uo(e,s,i,r)),n.push(e)}return to(o,i)},$o.svg.axis=function(){function n(n){n.each(function(){var n,s=$o.select(this),l=this.__chart__e,f=this.__chart__=e.copy(),h=null==cf.ticksf.ticks.apply(f,a)f.domain()c,g=null==tf.tickFormatf.tickFormat.apply(f,a)vtt,p=s.selectAll(.tick).data(h,f),v=p.enter().insert(g,.domain).attr(class,tick).style(opacity,Ca),d=$o.transition(p.exit()).style(opacity,Ca).remove(),m=$o.transition(p).style(opacity,1),y=ti(f),x=s.selectAll(.domain).data([0]),M=(x.enter().append(path).attr(class,domain),$o.transition(x));v.append(line),v.append(text);var _=v.select(line),b=m.select(line),w=p.select(text).text(g),S=v.select(text),k=m.select(text);switch(r){casebottomn=io,_.attr(y2,u),S.attr(y,Math.max(u,0)+o),b.attr(x2,0).attr(y2,u),k.attr(x,0).attr(y,Math.max(u,0)+o),w.attr(dy,.71em).style(text-anchor,middle),M.attr(d,M+y[0]+,+i+V0H+y[1]+V+i);break;casetopn=io,_.attr(y2,-u),S.attr(y,-(Math.max(u,0)+o)),b.attr(x2,0).attr(y2,-u),k.attr(x,0).attr(y,-(Math.max(u,0)+o)),w.attr(dy,0em).style(text-anchor,middle),M.attr(d,M+y[0]+,+-i+V0H+y[1]+V+-i);break;caseleftn=oo,_.attr(x2,-u),S.attr(x,-(Math.max(u,0)+o)),b.attr(x2,-u).attr(y2,0),k.attr(x,-(Math.max(u,0)+o)).attr(y,0),w.attr(dy,.32em).style(text-anchor,end),M.attr(d,M+-i+,+y[0]+H0V+y[1]+H+-i);break;caserightn=oo,_.attr(x2,u),S.attr(x,Math.max(u,0)+o),b.attr(x2,u).attr(y2,0),k.attr(x,Math.max(u,0)+o).attr(y,0),w.attr(dy,.32em).style(text-anchor,start),M.attr(d,M+i+,+y[0]+H0V+y[1]+H+i)}if(f.rangeBand){var E=f,A=E.rangeBand()2;l=f=function(n){return E(n)+A}}else l.rangeBandl=fd.call(n,f);v.call(n,l),m.call(n,f)})}var t,e=$o.scale.linear(),r=Ls,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length(e=t,n)e},n.orient=function(t){return arguments.length(r=t in Tst+Ls,n)r},n.ticks=function(){return arguments.length(a=arguments,n)a},n.tickValues=function(t){return arguments.length(c=t,n)c},n.tickFormat=function(e){return arguments.length(t=e,n)t},n.tickSize=function(t){var e=arguments.length;return e(u=+t,i=+arguments[e-1],n)u},n.innerTickSize=function(t){return arguments.length(u=+t,n)u},n.outerTickSize=function(t){return arguments.length(i=+t,n)i},n.tickPadding=function(t){return arguments.length(o=+t,n)o},n.tickSubdivide=function(){return arguments.length&&n},n};var Ls=bottom,Ts={top1,right1,bottom1,left1};$o.svg.brush=function(){function n(i){i.each(function(){var i=$o.select(this).style(pointer-events,all).style(-webkit-tap-highlight-color,rgba(0,0,0,0)).on(mousedown.brush,u).on(touchstart.brush,u),o=i.selectAll(.background).data([0]);o.enter().append(rect).attr(class,background).style(visibility,hidden).style(cursor,crosshair),i.selectAll(.extent).data([0]).enter().append(rect).attr(class,extent).style(cursor,move);var a=i.selectAll(.resize).data(d,vt);a.exit().remove(),a.enter().append(g).attr(class,function(n){returnresize +n}).style(cursor,function(n){return qs[n]}).append(rect).attr(x,function(n){return[ew]$.test(n)-3null}).attr(y,function(n){return^[ns].test(n)-3null}).attr(width,6).attr(height,6).style(visibility,hidden),a.style(display,n.empty()nonenull);var l,f=$o.transition(i),h=$o.transition(o);c&&(l=ti(c),h.attr(x,l[0]).attr(width,l[1]-l[0]),e(f)),s&&(l=ti(s),h.attr(y,l[0]).attr(height,l[1]-l[0]),r(f)),t(f)})}function t(n){n.selectAll(.resize).attr(transform,function(n){returntranslate(+l[+e$.test(n)]+,+h[+^s.test(n)]+)})}function e(n){n.select(.extent).attr(x,l[0]),n.selectAll(.extent,.nrect,.srect).attr(width,l[1]-l[0])}function r(n){n.select(.extent).attr(y,h[0]),n.selectAll(.extent,.erect,.wrect).attr(height,h[1]-h[0])}function u(){function u(){32==$o.event.keyCode&&(C(x=null,L[0]-=l[1],L[1]-=h[1],C=2),f())}function g(){32==$o.event.keyCode&&2==C&&(L[0]+=l[1],L[1]+=h[1],C=0,f())}function d(){var n=$o.mouse(_),u=!1;M&&(n[0]+=M[0],n[1]+=M[1]),C($o.event.altKey(x(x=[(l[0]+l[1])2,(h[0]+h[1])2]),L[0]=l[+(n[0]x[0])],L[1]=h[+(n[1]x[1])])x=null),E&&m(n,c,0)&&(e(S),u=!0),A&&m(n,s,1)&&(r(S),u=!0),u&&(t(S),w({typebrush,modeCmoveresize}))}function m(n,t,e){var r,u,a=ti(t),c=a[0],s=a[1],f=L[e],g=ehl,d=g[1]-g[0];return C&&(c-=f,s-=d+f),r=(evp)Math.max(c,Math.min(s,n[e]))n[e],Cu=(r+=f)+d(x&&(f=Math.max(c,Math.min(s,2x[e]-r))),rf(u=r,r=f)u=f),g[0]!=rg[1]!=u(eo=nulli=null,g[0]=r,g[1]=u,!0)void 0}function y(){d(),S.style(pointer-events,all).selectAll(.resize).style(display,n.empty()nonenull),$o.select(body).style(cursor,null),T.on(mousemove.brush,null).on(mouseup.brush,null).on(touchmove.brush,null).on(touchend.brush,null).on(keydown.brush,null).on(keyup.brush,null),N(),w({typebrushend})}var x,M,_=this,b=$o.select($o.event.target),w=a.of(_,arguments),S=$o.select(_),k=b.datum(),E=!^(ns)$.test(k)&&c,A=!^(ew)$.test(k)&&s,C=b.classed(extent),N=D(),L=$o.mouse(_),T=$o.select(Ko).on(keydown.brush,u).on(keyup.brush,g);if($o.event.changedTouchesT.on(touchmove.brush,d).on(touchend.brush,y)T.on(mousemove.brush,d).on(mouseup.brush,y),S.interrupt().selectAll().interrupt(),C)L[0]=l[0]-L[0],L[1]=h[0]-L[1];else if(k){var q=+w$.test(k),z=+^n.test(k);M=[l[1-q]-L[0],h[1-z]-L[1]],L[0]=l[q],L[1]=h[z]}else $o.event.altKey&&(x=L.slice());S.style(pointer-events,none).selectAll(.resize).style(display,null),$o.select(body).style(cursor,b.style(cursor)),w({typebrushstart}),d()}var i,o,a=g(n,brushstart,brush,brushend),c=null,s=null,l=[0,0],h=[0,0],p=!0,v=!0,d=zs[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={xl,yh,ii,jo},e=this.__chart__t;this.__chart__=t,Ss$o.select(this).transition().each(start.brush,function(){i=e.i,o=e.j,l=e.x,h=e.y,n({typebrushstart})}).tween(brushbrush,function(){var e=zr(l,t.x),r=zr(h,t.y);return i=o=null,function(u){l=t.x=e(u),h=t.y=r(u),n({typebrush,moderesize})}}).each(end.brush,function(){i=t.i,o=t.j,n({typebrush,moderesize}),n({typebrushend})})(n({typebrushstart}),n({typebrush,moderesize}),n({typebrushend}))})},n.x=function(t){return arguments.length(c=t,d=zs[!c1!s],n)c},n.y=function(t){return arguments.length(s=t,d=zs[!c1!s],n)s},n.clamp=function(t){return arguments.length(c&&s(p=!!t[0],v=!!t[1])cp=!!ts&&(v=!!t),n)c&&s[p,v]cpsvnull},n.extent=function(t){var e,r,u,a,f;return arguments.length(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),i=[e,r],c.invert&&(e=c(e),r=c(r)),er&&(f=e,e=r,r=f),(e!=l[0]r!=l[1])&&(l=[e,r])),s&&(u=t[0],a=t[1],c&&(u=u[1],a=a[1]),o=[u,a],s.invert&&(u=s(u),a=s(a)),ua&&(f=u,u=a,a=f),(u!=h[0]a!=h[1])&&(h=[u,a])),n)(c&&(i(e=i[0],r=i[1])(e=l[0],r=l[1],c.invert&&(e=c.invert(e),r=c.invert(r)),er&&(f=e,e=r,r=f))),s&&(o(u=o[0],a=o[1])(u=h[0],a=h[1],s.invert&&(u=s.invert(u),a=s.invert(a)),ua&&(f=u,u=a,a=f))),c&&s[[e,u],[r,a]]c[e,r]s&&[u,a])},n.clear=function(){return n.empty()(l=[0,0],h=[0,0],i=o=null),n},n.empty=function(){return!!c&&l[0]==l[1]!!s&&h[0]==h[1]},$o.rebind(n,a,on)};var qs={nns-resize,eew-resize,sns-resize,wew-resize,nwnwse-resize,nenesw-resize,senwse-resize,swnesw-resize},zs=[[n,e,s,w,nw,ne,se,sw],[e,w],[n,s],[]],Rs=$o.time={},Ds=Date,Ps=[Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday];ao.prototype={getDatefunction(){return this._.getUTCDate()},getDayfunction(){return this._.getUTCDay()},getFullYearfunction(){return this._.getUTCFullYear()},getHoursfunction(){return this._.getUTCHours()},getMillisecondsfunction(){return this._.getUTCMilliseconds()},getMinutesfunction(){return this._.getUTCMinutes()},getMonthfunction(){return this._.getUTCMonth()},getSecondsfunction(){return this._.getUTCSeconds()},getTimefunction(){return this._.getTime()},getTimezoneOffsetfunction(){return 0},valueOffunction(){return this._.valueOf()},setDatefunction(){Us.setUTCDate.apply(this._,arguments)},setDayfunction(){Us.setUTCDay.apply(this._,arguments)},setFullYearfunction(){Us.setUTCFullYear.apply(this._,arguments)},setHoursfunction(){Us.setUTCHours.apply(this._,arguments)},setMillisecondsfunction(){Us.setUTCMilliseconds.apply(this._,arguments)},setMinutesfunction(){Us.setUTCMinutes.apply(this._,arguments)},setMonthfunction(){Us.setUTCMonth.apply(this._,arguments)},setSecondsfunction(){Us.setUTCSeconds.apply(this._,arguments)},setTimefunction(){Us.setTime.apply(this._,arguments)}};var Us=Date.prototype,js=%a %b %e %X %Y,Hs=%m%d%Y,Fs=%H%M%S,Os=[Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday],Ys=[Sun,Mon,Tue,Wed,Thu,Fri,Sat],Is=[January,February,March,April,May,June,July,August,September,October,November,December],Zs=[Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec];Rs.year=co(function(n){return n=Rs.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Rs.years=Rs.year.range,Rs.years.utc=Rs.year.utc.range,Rs.day=co(function(n){var t=new Ds(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Rs.days=Rs.day.range,Rs.days.utc=Rs.day.utc.range,Rs.dayOfYear=function(n){var t=Rs.year(n);return Math.floor((n-t-6e4(n.getTimezoneOffset()-t.getTimezoneOffset()))864e5)},Ps.forEach(function(n,t){n=n.toLowerCase(),t=7-t;var e=Rs[n]=co(function(n){return(n=Rs.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7Math.floor(t))},function(n){var e=Rs.year(n).getDay();return Math.floor((Rs.dayOfYear(n)+(e+t)%7)7)-(e!==t)});Rs[n+s]=e.range,Rs[n+s].utc=e.utc.range,Rs[n+OfYear]=function(n){var e=Rs.year(n).getDay();return Math.floor((Rs.dayOfYear(n)+(e+t)%7)7)}}),Rs.week=Rs.sunday,Rs.weeks=Rs.sunday.range,Rs.weeks.utc=Rs.sunday.utc.range,Rs.weekOfYear=Rs.sundayOfYear,Rs.format=lo;var Vs=ho(Os),Xs=go(Os),$s=ho(Ys),Bs=go(Ys),Ws=ho(Is),Js=go(Is),Gs=ho(Zs),Ks=go(Zs),Qs=^%,nl={-,_ ,00},tl={afunction(n){return Ys[n.getDay()]},Afunction(n){return Os[n.getDay()]},bfunction(n){return Zs[n.getMonth()]},Bfunction(n){return Is[n.getMonth()]},clo(js),dfunction(n,t){return po(n.getDate(),t,2)},efunction(n,t){return po(n.getDate(),t,2)},Hfunction(n,t){return po(n.getHours(),t,2)},Ifunction(n,t){return po(n.getHours()%1212,t,2)},jfunction(n,t){return po(1+Rs.dayOfYear(n),t,3)},Lfunction(n,t){return po(n.getMilliseconds(),t,3)},mfunction(n,t){return po(n.getMonth()+1,t,2)},Mfunction(n,t){return po(n.getMinutes(),t,2)},pfunction(n){return n.getHours()=12PMAM},Sfunction(n,t){return po(n.getSeconds(),t,2)},Ufunction(n,t){return po(Rs.sundayOfYear(n),t,2)},wfunction(n){return n.getDay()},Wfunction(n,t){return po(Rs.mondayOfYear(n),t,2)},xlo(Hs),Xlo(Fs),yfunction(n,t){return po(n.getFullYear()%100,t,2)},Yfunction(n,t){return po(n.getFullYear()%1e4,t,4)},Zjo,%function(){return%}},el={avo,Amo,b_o,Bbo,cwo,dTo,eTo,Hzo,Izo,jqo,LPo,mLo,MRo,pUo,SDo,Uxo,wyo,WMo,xSo,Xko,yAo,YEo,ZCo,%Ho},rl=^sd+,ul=$o.map({am0,pm1});lo.utc=Fo;var il=Fo(%Y-%m-%dT%H%M%S.%LZ);lo.iso=Date.prototype.toISOString&&+new Date(2000-01-01T000000.000Z)Ooil,Oo.parse=function(n){var t=new Date(n);return isNaN(t)nullt},Oo.toString=il.toString,Rs.second=co(function(n){return new Ds(1e3Math.floor(n1e3))},function(n,t){n.setTime(n.getTime()+1e3Math.floor(t))},function(n){return n.getSeconds()}),Rs.seconds=Rs.second.range,Rs.seconds.utc=Rs.second.utc.range,Rs.minute=co(function(n){return new Ds(6e4Math.floor(n6e4))},function(n,t){n.setTime(n.getTime()+6e4Math.floor(t))},function(n){return n.getMinutes()}),Rs.minutes=Rs.minute.range,Rs.minutes.utc=Rs.minute.utc.range,Rs.hour=co(function(n){var t=n.getTimezoneOffset()60;return new Ds(36e5(Math.floor(n36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5Math.floor(t))},function(n){return n.getHours()}),Rs.hours=Rs.hour.range,Rs.hours.utc=Rs.hour.utc.range,Rs.month=co(function(n){return n=Rs.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Rs.months=Rs.month.range,Rs.months.utc=Rs.month.utc.range;var ol=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],al=[[Rs.second,1],[Rs.second,5],[Rs.second,15],[Rs.second,30],[Rs.minute,1],[Rs.minute,5],[Rs.minute,15],[Rs.minute,30],[Rs.hour,1],[Rs.hour,3],[Rs.hour,6],[Rs.hour,12],[Rs.day,1],[Rs.day,2],[Rs.week,1],[Rs.month,1],[Rs.month,3],[Rs.year,1]],cl=[[lo(%Y),Zt],[lo(%B),function(n){return n.getMonth()}],[lo(%b %d),function(n){return 1!=n.getDate()}],[lo(%a %d),function(n){return n.getDay()&&1!=n.getDate()}],[lo(%I %p),function(n){return n.getHours()}],[lo(%I%M),function(n){return n.getMinutes()}],[lo(%S),function(n){return n.getSeconds()}],[lo(.%L),function(n){return n.getMilliseconds()}]],sl=Zo(cl);al.year=Rs.year,Rs.scale=function(){return Yo($o.scale.linear(),al,sl)};var ll={rangefunction(n,t,e){return $o.range(+n,+t,e).map(Io)}},fl=al.map(function(n){return[n[0].utc,n[1]]}),hl=[[Fo(%Y),Zt],[Fo(%B),function(n){return n.getUTCMonth()}],[Fo(%b %d),function(n){return 1!=n.getUTCDate()}],[Fo(%a %d),function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],[Fo(%I %p),function(n){return n.getUTCHours()}],[Fo(%I%M),function(n){return n.getUTCMinutes()}],[Fo(%S),function(n){return n.getUTCSeconds()}],[Fo(.%L),function(n){return n.getUTCMilliseconds()}]],gl=Zo(hl);return fl.year=Rs.year.utc,Rs.scale.utc=function(){return Yo($o.scale.linear(),fl,gl)},$o.text=dt(function(n){return n.responseText}),$o.json=function(n,t){return mt(n,applicationjson,Vo,t)},$o.html=function(n,t){return mt(n,texthtml,Xo,t)},$o.xml=dt(function(n){return n.responseXML}),$o}();